<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xml:lang="ja" xmlns="http://www.w3.org/1999/xhtml"><head><meta charset="utf-8" /><title>9章：商品リスト | インクルーシブHTML+CSS &amp; JavaScriptl</title><link rel="stylesheet" href="css/book.css" type="text/css"/><meta name="EPB-UUID" content="f9202370-6e5d-44d5-b924-02b34d51163d"/></head><body><div class="body"><h1>9章：商品リスト</h1><blockquote class="blockquote-regular"><p><em>「あなた（の信仰）は？」<br/>「僕のアイデンティティを宗教で片づけようというのなら、シーク教徒ですよ。でも僕はヒップポップやナショナル・パブリック・ラジオも好きです。それに暇なときは1967年式コルベットの修理をしていますよ」<br/>「なるほど、じゃ、シーク教徒がひとり、と……」<br class="nobreak"/>—「The Office」シーズン4、</em>「Fun Run」</p></blockquote><p>ビジネスにおいては、反応の良さそうなユーザーをターゲットにしてコミュニケーションをしようとする傾向があります。たとえば、写真サイトの制作者がどんな人をターゲットにしようとするかというと、写真が好きな人です。おっと、Webサイトも好きでないといけませんね。ほとんどのマーケターにとっては、調査はそこで終わりではありません。彼らは、年齢層、関連する興味関心、競合サイト、収入、やりたいこと、性別なども詳しく調べます。</p><p>幸いなことに、インクルーシブデザイナーは、間違いが多くあてにならないマーケティングの芸当に首を突っ込む必要はありません。ユーザーの能力、設定、環境といった要素は、興味関心、好み、ライフスタイルの選択などとはほとんど関係ないからです。また、自分たちの商品を<em>使いたがる</em>のは誰なのか当てるゲームも必要ですが、その際、人々が<em>どのように</em>使うかを決めてかかると、潜在的なファンや顧客を疎外してしまうだけの結果になります。</p><p>いわゆる平均的ユーザーをターゲットにすることは、悲劇を招くインターフェイスデザイン戦略です。なぜなら、平均的ユーザーというものは存在しないからです――正規分布曲線の頂点に立っているほんのひと握りの人々を除いて。家庭用品などで有名なOXO社はこれをよく理解しており、まず極端な状況や身体的な障害を持つ人々のニーズを満たすことで、人間工学的に優れた、一般消費者を引きつける製品を生み出しています。<a href="http://universaldesign.ie/What-is-Universal-Design/Case-studies-and-examples/3-case-studies-on-UD/#oxo"><span class="link">OXO社は次のように述べています。</span></a></p><blockquote><p>「初期のデザインプロセスですべてのユーザーのニーズを考慮すれば、非常に幅広いユーザーが使える製品になる」</p></blockquote><p>写真サイトをデザインする場合であれば、ビジネス的には、写真に興味を持ちそうにないユーザーへのサポートを切り捨てたくなります。そうすれば、おそらくコストが削減できるでしょう。「目の不自由なユーザーが写真に興味を持つ可能性は低いのに、なぜわざわざスクリーンリーダーでアクセスできるようにする必要があるのか?」と考えるかもしれません。</p><p>サンドラを紹介しましょう。彼女は写真家でしたが、37歳で視力を失いました。それでも写真に対する興味が薄れることはありませんでした。オンラインの写真コミュニティに参加し、写真について詳細に説明してもらうことと引き換えに、長年培った技術的なノウハウを提供して、アクティブなメンバーとして活動を楽しんでいます。</p><p>サンドラのような人は必ずいますし、世の中のライアンたち、バーバラたち、ザビエルたちと同じように体験できて然るべきです。また、以下の点についても考慮しましょう。</p><ul><li>サンドラが求めるもの（コミュニティへの参加が認められること、テキストの説明が得られること）があれば、目が不自由<em>である</em>という理由で彼女や他の視覚障害者が排除されることはなくなります。</li><li>これらのものを含めても、サンドラのような人々を優遇して他のタイプのユーザーを疎外することにはなりません。</li><li>これらのものを全盲やロービジョンのユーザーにとってアクセシブルにすることは、他のタイプのユーザーにとってもメリットがあります。たとえば、<code>alt</code>テキストは、テキストしか扱えないブラウザに対して画像を説明してくれますが、これは画像リクエストに対してステータス403、404、500、503が返された場合にも役立ちます。スクリーンリーダーのアクセシビリティには、キーボードのアクセシビリティも求められます。これは、さまざまなリウマチ症状を持つ人や、パーキンソン病や統合運動障害によってマウスを正確に操作できない人にも役立ちます。そして、これらはブラウジングにキーボードを使う人のほんの一例にすぎません――病態の有無は問わないのです。</li></ul>
<div class="translator_note" id="translator_note2431"><h2>訳註</h2><p>HTTPステータスの番号は403がForbidden、404がNot Found、500がInternal Server Error、503がService Unavailableです。いずれも、期待するリソースが取得できなかったという結果になります。</p><h3>参考</h3><ul><li><a href="http://www.iana.org/assignments/http-status-codes/http-status-codes.xhtml">Hypertext Transfer Protocol (HTTP) Status Code Registry</a></li></ul></div>
<blockquote><p>「マウスを操作する方の手で何かを食べているときは、誰もがキーボードユーザーになる」— <a href="https://twitter.com/aardrian/status/388733408576159744"><span class="link">エイドリアン・ロゼリー（Adrian Roselli）</span></a></p></blockquote><p>扱うコンテンツや商材が何であれ、ユーザーがどのようにインターフェイスを操作したとしても、文句を言う道理はありません。そんなことをしても、プロダクトの質が低下するだけです。コストを節約するには、想定したユーザーグループごとに異なるインターフェイスを作るよりも、1つだけにしたほうがよいでしょう。だからこそ、インクルーシブにするのです。インクルーシブであることを、プロダクトの<em>品質</em>と考えましょう――コストのかかる追加機能ではなく。</p><p>インクルージョンをデザインプロセスに組み込めば、作業はほとんど増えません。実際、標準的なテクノロジーをそのまま使うと、たいていの場合は手間が減ります。たとえば、アクセシブルでないカスタムの<code>&lt;div class="heading-3"&gt;</code>をひねり出した場合、標準の<code>&lt;h3&gt;</code>を使った場合よりもタイピングの量が<em>より多く</em>なります。<code>&lt;div&gt;</code>を使うことにこだわると、<em>事後に</em>ARIAの属性で見出しのアクセシビリティを改善しなければならなくなり、コードはさらに冗長になります。</p><pre><code class=" language-markup"><span class="token comment">&lt;!-- 人生はあまりに短い！--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"heading-3"</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"heading"</span> <span class="token attr-name">aria-level</span><span class="token attr-value"><span class="token punctuation">=</span>"3"</span><span class="token punctuation">&gt;</span></span>見出しテキスト<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre>
<div class="translator_note" id="translator_note2443"><h2>訳註</h2><p>aria-level属性は階層内のレベルを指定するもので、見出しに適用すると見出しレベルを指定したことになります。aria-level="3"とrole="heading"を指定することで、&lt;h3&gt;と同じセマンティクスを表現することができます。なお本文にあるように、同様のことを表現するにもかかわらず、タイプしなければならない文字列はとても長くなってしまいます。コード冒頭のコメントは、「こんなに長い文字列を入力するには、人生はあまりに短い」という主旨でしょう。</p><h3>参考</h3><ul><li><a href="https://www.w3.org/TR/wai-aria-1.1/#aria-level">Accessible Rich Internet Applications (WAI-ARIA) 1.1 - aria-level (property)</a></li></ul></div>
<h2>リストの長所</h2><p>ここで例示するパターンは、写真プリントを販売するショップが組み込まれた架空の写真アプリケーションだと思ってください。ユーザーが検索語を入力して商品を検索すると、商品リストに一連の写真プリントが列挙されます。個々の商品がどのようにマークアップされ、どのように表示されるかに注目しましょう。これにはイラストや行動喚起のリンクも含まれます――結局のところ、商品リストの目的は、ユーザーに購入してもらうことです。</p><p>リストの長所については以前のパターンで詳しく説明しました。リストは、コンテンツをアクセシブルな形で項目別に並べたり、テーマごとにグループ化したり、構造化されていないダラダラした文章が続くことを解消したりします。これまで作ってきたリスト項目は、テキストとインライン要素（リンク）だけしか含まない簡素なものでしたが、リスト項目の中にもっと複雑な構造を入れても全く問題ありません。</p><p>パターンライブラリのドキュメントに記述されているパターンは、商品の項目1つだけしか入っていない構造で定義されているかもしれませんが、まずはコンテキストおよび付属するものを認識することが重要です。では、商品リストを作り始めましょう。リスト項目の最初のコンテンツを使って、商品のテンプレートを作ります。</p><p><code>&lt;h3&gt;</code>要素を使って、商品のタイトルをつけましょう。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>
        ガソリンスタンドにたたずむ裸の男
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/photographer/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>ケニー・マルバートン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>各商品の見出しは同じレベル（この場合はレベル3）にしましょう。同じリストを構成するものであり、階層が同等だからです。目玉商品を目立たせるために、<code>&lt;h2&gt;</code>などの高いレベルの見出しを使いたくなるかもれませんが、合理性のない構造になってしまいますので、避けるべきです。目玉商品やおすすめ商品であることを示したい場合は、CSSでハイライト表示した説明文を追加するとよいでしょう。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"highlight"</span><span class="token punctuation">&gt;</span></span>目玉商品:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span> ガソリンスタンドにたたずむ裸の男
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/photographer/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>ケニー・マルバートン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>ハイライトスタイルを使うと、ページを視覚的に流し見していても目に入りますし、「目玉商品」というテキストは視覚に頼らない支援技術にも情報を提供します。</p><p>スクリーンリーダーのユーザーの中には、見出しを使って商品リストを見て回る人もいます。<code>&lt;h3&gt;</code>が所定の場所にあれば、ユーザーは<code>H</code>キー（次の見出しに飛ぶ）や数字の「<code>3</code>」キー（次のレベル3見出しに飛ぶ）を使って、ある商品から次の商品へと移動できます。また、リストを直接ナビゲーションする機能を使うスクリーンリーダーユーザーもいます。たとえば、JAWSではショートカットキーの<code>I</code>（<em>item</em>、項目の意味）を使って、あるリスト項目から次のリスト項目へと移動できます。ユーザーに選択肢を与えるというのは、<a href="http://www.iheni.com/"><span class="link">ヘニー・スワン（Henny Swan）</span></a>が、<a href="https://www.smashingmagazine.com/2015/02/bbc-iplayer-accessibility-case-study/"><span class="link">during the redesign of the BBC iPlayer website</span></a>で考案した、アクセシブルなUX原則の最初の項目です。</p>
<div class="translator_note" id="translator_note2473"><h3>訳註</h3><p>NVDAでも同様のキー操作で次のリスト項目へ移動することができます。</p><h4>参考</h4><ul><li><a href="https://www.nvda.jp/nvda2017.3jp/ja/keyCommands.html">NVDA 2017.3jp コマンド一覧表</a></li></ul></div>
<ol>
<li><strong>ユーザーに選択肢を与える。</strong></li>
<li>ユーザーに制御させる。</li>
<li>なじみやすさを念頭に置いてデザインする。</li>
<li>価値を付加する機能を優先する。</li>
</ol>
<p>著者側のCSSがない場合、ブラウザはそれぞれのリスト項目の頭に箇条書きの点を表示し、見出しテキストを大きい太字フォントで表示します。そのため、CSSが（一時的または永続的に）使用できなかったり、ユーザースタイルシートで上書きされた場合でも、視覚的な構造は明確です。また、このように<a href="http://webaim.org/techniques/css/#sep"><span class="link">コンテンツとプレゼンテーションを分離</span></a>すると、ユーザーが希望したときに独自の<a href="http://www.opera.com/docs/usercss/"><span class="link">ユーザースタイル</span></a>を適用しやすくなります。</p>
<div class="translator_note" id="translator_note2484"><h3>訳註</h3><p>ユーザースタイルシートがあっても著者側のスタイルが無効になるわけではなく、ユーザー側で指定した部分がカスケードのルールによって上書きされるだけです。ユーザースタイルシートがあるからと言って、著者側CSSで指定したスタイルがなくなるわけではありません。なお、それとは別に、ブラウザの設定で著者側のCSSを完全に無視することは可能です。</p><h4>参考</h4><ul><li><a href="https://www.w3.org/TR/css3-cascade/#cascading">CSS Cascading and Inheritance Level 3 - 6.  Cascading</a></li></ul></div>
<p>ユーザーが見出し内の写真家ページへのリンクをたどるのなら、<em>その</em>ページに並んでいる写真プリントも同じようなマークアップで表現すべきです。<a href="http://www.goodreads.com/book/show/20640233-a-web-for-everyone"><span class="link">「A Web For Everyone」</span></a>では次のように求めています。</p><blockquote><p>「同じものは同じように表現してください。ユーザーがサイト内を見て回りやすくするひとつの方法は、サイトの要素の表現とラベルに一貫性を持たせることです。これは、変化や装飾のない退屈なサイトにしろという意味ではありません」</p></blockquote><h2>カギとなる情報</h2><p>この時点では、商品にはタイトルしかありません。ユーザーはきっと、サイズや価格、他のユーザーの評価といった情報に興味を持つでしょう。記述リストを使用して、こうした個々の重要な情報を一箇所にまとめ、明確にラベルづけできます。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>
        ガソリンスタンドにたたずむ裸の男
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>Kenny Mulbarton<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>サイズ：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>90cm × 30cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>価格：<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>35.95ユーロ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>評価:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>(5つ星のうち4)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><h4>コードの補足</h4>
<ul>
<li>順序なしリスト（<code>&lt;ul&gt;</code>）と同様、記述リスト（<code>&lt;dl&gt;</code>）はスクリーンリーダーが項目を数え上げるので、ユーザーは項目がいくつあるかわかります。最初に出くわすと、VoiceOverなどのスクリーンリーダーは「Description List」などと読み上げ、その後にキーと値のペアが続くことをユーザーに知らせます。<div class="translator_note" id="translator_note2509"><h4>訳註</h4><p>2017年9月現在、スクリーンリーダーによってはdl要素を十分にサポートしていないものもあります。</p><p>OSXのVoiceOverはdlを「Description List」と読みますが、項目数はdtとddの合計となります。この例では「Description List 6 items」と読みます。</p><p>NVDAはdlもul同様「リスト」としか読まず、項目数はdtとddの合計となります。この例では「リスト6項目」と読みます。</p><p>iOS10のVoiceOverはdlを特に読まないようです (ulの場合は「リストの開始位置です」と読みます)。</p></div></li>
<li>ユーザーエージェントのスタイル定義は、<code>&lt;dd&gt;</code>要素をインデントしてリスト化します。つまり、著者側のCSSがない場合は視覚的に階層が示されます。</li>
<li>「90cm × 30cm」は適切なUnicode文字（乗算記号）を使って書かれているので、スクリーンリーダーでは「きゅうじゅっセンチメートル<em>かける</em>さんじゅっセンチメートル」と読み上げられます。小文字の<em>x</em>を代わりに使うのは悪手です。「エックス」と読み上げられるだけでなく、視覚的にも乗算記号に見えないかもしれません――特にセリフ書体で表示された場合は。<div class="translator_note" id="translator_note2511"><h4>訳註</h4><p>「×」の記号が読み上げられるかどうかはスクリーンリーダーの設定や読ませ方にも依存します。たとえばNVDAでは、標準の設定で文全体を読ませると記号を読みませんが、一文字ずつ読み上げさせた場合は「×」の部分を「かける」と読みます。なお、NVDAには「句読点/記号レベル」という設定があり、常に全ての記号を読むようにすることも可能です (「読まない」「一部読み上げ」「ほとんど読み上げ」「全て読み上げ」から選ぶことができます)。</p></div></li>
<li>ユーザーの評価には、星印で示すという定着した方法を用いています。星印の意味を補足するために、となりに説明を添えています。<code>alt</code>属性の値を空（<code>alt=""</code>）にすると、スクリーンリーダーは画像の読み上げを省略します。画像が評価の説明文に置き換わり、<em>かつ</em>、その画像の次にも説明文があると、スクリーンリーダーのユーザーにとってはくどい繰り返しになります。</li>
<li>より正確な表記にするには、「サイズ」のラベルは「寸法」とすべきかもしれません。しかし、サイズの方がシンプルで広く理解されている言葉であり――実際のところ、この文脈では――同じ意味になります。アシュリー・ビショフ（Ashley Bischoff）のプレゼンテーション「<a href="http://www.handcoding.com/presentations/plaina11y/#cover"><span class="link">Embracing Plain Language for Better Accessibility</span></a>」では、言葉を選ぶ際、見栄を張ったロボットのような言葉ではなく、シンプルで人間らしい言葉にするべきという、すばらしいアドバイスをしています。</li>
</ul>
<h2>商品のサムネイル</h2><p>画像と広告の親密な関係については、ここで改めて述べるまでもありません。あえていうなら、ユーザーは購入しようとする商品をじっくり見るだろうということです――半年分の会費や永遠の幸福といった、形のない商品を売っている場合を除いて。</p><p>商品のサムネイルは基本的に、その商品の<em>正規の</em>画像となります。そのため、サムネイルには商品全体が、明確に、目障りな加工なしで示されている必要があります。似たような商品（同じデザインのTシャツの赤、緑、青のバージョンなど）は、同じ方法で表現すべきです。同じアングルから、同じように見せてください。</p><p><img src="images/t-shirts.png" alt="同じTシャツが色違いで3枚。最後の1枚は異なるアングルから撮影されていて役に立たない。"/></p><p><a href="http://www.noupe.com/design/10-beginner-tips-for-unique-product-photography-79099.html"><span class="link">アートディレクションされた独創的な商品写真</span></a>は刺激的かもしれませんが、ユーザーの<a href="https://en.wikipedia.org/wiki/Cognitive_load"><span class="link">認知的負荷</span></a>が高くなり、商品の実際の形を推理しなければならなくなります。そのような写真を使うのなら、商品のパーマリンクページに留めるべきです。</p><h3>代替テキスト</h3><p>幸いなことに、写真プリントのサムネイルは完成した画像<em>そのもの</em>なので、構図や照明について改めて配慮する必要はありません。あとは、代替テキストを指定して、全盲やロービジョンのユーザーに商品の見た目を説明できるようにするだけです。</p><p><code>alt</code>テキストを常に用意するということは、アクセシブルなインターフェイスデザインに取り組むときに最初の学ぶことのひとつです。それが<em>どんな</em>テキストであるかが、アクセシブルと非アクセシブル、インクルーシブとエクスクルーシブ（排他的）の違いを生みます。先ほどのユーザー評価の星印画像の例では、繰り返しを避けるため――もしかすると意外だったかもしれませんが――代替テキストを明示的に<em>なし</em>にするのが正解でした。</p><p><code>alt</code>テキストのデザインは――他のあらゆるデザインと同様――文脈に基づいて行われるべきです。WAI（Web Accessibility Initiative）は<a href="https://www.w3.org/WAI/tutorials/images/decision-tree/"><span class="link">An <code>alt</code> Decision Tree</span></a>という文書を提供しています。今回のサムネイルの場合は、画像にテキストは含まれておらず、アクションを説明するものでもないので、「この画像は現在のページやコンテキストに意味を提供しているか？」という問いに答える必要があります。</p><p>答えは、「商品のタイトルで既に提供されている以外にも情報を提供するなら、意味を提供できることになる」です。このタイトルは非常に簡潔で文字通りの表現でしかないので、それ以外の情報を提供する良い機会になります。</p>
<div class="translator_note" id="translator_note2538"><h4>訳註</h4><p>この例を "An alt Decision Tree" に沿って見ていくと、「画像にテキストが含まれているか?」→No、「画像がリンクやボタンで使われていて、取り除くと意味が通じなくなるか?」→No、「この画像は現在のページやコンテキストに意味を提供しているか？」→Yes、「シンプルなグラフィックや写真か?」→Yes、となって「Informative Images」に該当し、この中の「Example 4: Images conveying an impression or emotion」にあてはまります。ここでは写真の印象などを表す簡潔な代替テキストを指定すれば良いことになっています。</p><h5>参考</h5><ul><li><a href="https://www.w3.org/WAI/tutorials/images/informative/">Informative Images</a></li></ul></div>
<pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>
        ガソリンスタンドにたたずむ裸の男
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>Kenny Mulbarton<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"裸の男性が何食わぬ顔で給油ポンプにもたれかかっている、ハイコントラストの白黒写真。"</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>サイズ:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>90cm × 30cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>価格:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>35.95ユーロ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>評価:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>(5つ星のうち4)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>重要な画像のカテゴリー（白黒写真）を伝え、画像の<em>雰囲気</em>（何食わぬ顔でもたれかかっている）も伝えようとしている点に注目してください。これらの情報はいずれも、目の不自由なユーザーや、何らかの理由で画像を見ることができないユーザーにとっては、この方法でしか得られないものです。ネットワークの速度が遅いため画像をオフにしている場合や、画像の読み込みに失敗した場合も、この代替テキストを見ることになります。説明的な代替テキストがあれば、Wi-Fi接続したときに確認できるように、この写真プリントをブックマークする気になるかもしれません。</p>
<div class="translator_note" id="translator_note2556"><h4>訳註</h4><p>2017年9月現在、OS XのSafari10.1.2では、画像をオフにしても代替テキストが表示されません。</p></div>
<h3>画像のパフォーマンス</h3><p>7章「メニューボタン」では、シンプルな三本線のナビコンを表示するさまざまな方法を紹介しました。SVGを使用する利点のひとつは、ファイルサイズが非常に小さくなることです。特に、矩形の幾何学模様の繰り返しに<code>&lt;rect&gt;</code>要素を使ったような場合には顕著です。</p><p>残念ながら、このサイトで販売する写真の象徴的な印象を、矩形や円で表現することは難しいでしょう。ここでは、ファイルサイズが重いかわりに的確な表現ができるラスター形式のフォーマット、PNGやJPGを用いる必要があります。ラスター形式のサムネイルでいっぱいのページを読み込むのにどれだけ時間がかかるか実感したければ、そのようなコンテンツを扱っているサイトを見つけ、Chromeのデベロッパーツールを開きましょう。次に、<em>Toggle device toolbar</em>ボタンを押します（キーボードなら<em>Cmd</em> + <em>Shift</em> + <em>M</em>です）。画面右上のメニューから<em>Show throttling</em>を選び、「Regular 3G」を選択します――これは最速でもなければ最遅でもない、標準の速度です。</p>
<div class="translator_note" id="translator_note2565"><h4>訳註</h4><p>このあたりのUIは頻繁に変更になっているようで、Chrome60では「Show throttling」ではなく「Add network throttling」という名前に変更され、Chrome61ではthrottlingの表示/非表示を切り替えるメニュー自体が削除されて常に表示されるようになりました。また、選択肢についても「Regular 3G」という選択肢がなくなり、「Slow 3G」と「Fast 3G」になったり、「Mid-tier mobile」と「Low-end mobile」になったりと、環境によってさまざまなようです。</p></div>
<p>さて、ページをリロードして待ちましょう。……さらにもう少し待ちましょう。</p><p>退屈ですね。しかし問題はそれだけではありません。このように多くの画像をモバイルネットワークで読み込むと、費用もかかります。イメージをつかむために、<a href="https://whatdoesmysitecost.com/"><span class="link">What Does My Site Cost</span></a>に行き、先ほどテストしたサイトのURLを使って、画像がたっぷり含まれるたった1ページを取得するために、データ転送にどれだけ費用がかかるか確認してみましょう。</p><p>Web開発者は高額の回線を契約していることが多く、勤務日の大半は超高速のブロードバンドで接続しています。この体験は一部の特権階級のみに許されたものであって、一般的なものではありません。回線にかける予算が少ない、あるいは巨額のローミング料金を課されるといった都合で低速回線を利用するユーザーにとってもインクルーシブなサイトにするには、大量の画像をすべて読み込むことによる影響を軽減する必要があります。</p><p>本書ではパフォーマンスを意識した画像アセットの扱いについて詳述はしませんが、いくつかの重要なテクニックについて少し考えてみましょう。</p>

<ol>
<li><strong>圧縮</strong>：何はともあれ、画像の圧縮は確実に行いましょう。画像の圧縮は、かつてのように面倒な手動の作業ではなくなり、現在では<a href="https://imageoptim.com/mac"><span class="link">ImageOptim</span></a>といった自動化ツールが利用できるようになりました。</li>
<li><strong>遅延読み込み</strong>：画像がまだ見えていないのであれば、読み込む必要はありません。遅延読み込みを使うと、<code>&lt;img&gt;</code>要素がビューポートに入るまで画像リソースはダウンロードされません。利用できるスクリプトやプラグインがいくつもありますが、いずれも、あらかじめダミーの<code>src</code>値を指定しておき、それを<code>data-</code>属性に指定した本当の画像のパスに置き換えるという動作をします。今回の商品リストの場合、各画像のマークアップは以下のようになります。<pre><code>&lt;img src="dummy.jpg" width="400" height="300" data-src="/images/naked-forecourt-man.jpg"&gt;</code></pre><div class="translator_note" id="translator_note2579"><h4>訳註</h4><p>なお、この方法では、何らかの理由でJavaScriptが動作しなかった場合にdummy.jpgがそのまま表示されることになります。JavaScript無効時も想定するなら、本来の画像と無関係のダミーではなく、極低解像度にした画像を置いておくようにする手もあります。</p></div></li>
<li><strong><code>&lt;picture&gt;</code>要素：</strong>画像をビューポートに合わせて調整することができます。小さいビューポートの場合、モバイルデバイスやモバイルネットワークで使われていることが多いので、物理的に小さい画像――軽くて費用もかからないもの――を指定すると良いでしょう。その場合は、以下に挙げるようなマークアップを組み込むとよいのかもしれません。<pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span>"(min-width: 800px;)"</span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man_large.jpg"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man_small.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"裸の男性が何食わぬ顔で給油ポンプにもたれかかっている、ハイコントラストの白黒写真。"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">&gt;</span></span></code></pre><p>最後の<code>&lt;img&gt;</code>要素は、ビューポートの幅が800pxを超える場合<em>のみ</em>、その<code>src</code>属性を<code>&lt;source&gt;</code>要素で定義されているものに切り替えます。なお、これは精密科学のような裏づけがある理論ではありません。ユーザーが低速のモバイルネットワーク経由で接続し、かつ800pxより幅の広いビューポートを搭載したデバイスを使っているケースも十分考えられます。</p></li>
</ol>
<h2>「今すぐ購入」アクション</h2><p>ビジネス感覚が<em>完全に</em>欠落しているのでない限り、ユーザーに写真プリントの購入をうながしたいと考えるはずです。おそらく最も単純な方法は「今すぐ購入」ボタンをつけることです。とは言え、避けるべき落とし穴がいくつかあります。</p><h3>ボタン vs <em>ボタン</em>風リンク</h3><p>最初の落とし穴は、ボタンのコンセプトと、期待される動作です。いわゆる「今すぐ購入」ボタンは、見た目はボタンですが、ふるまいとしてはリソースに対するリンクとなっています――つまりハイパーリンクなのです。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"button"</span><span class="token punctuation">&gt;</span></span>今すぐ購入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>ここで、よりアクセシブルな体験を作り出そうというご立派な試みとして、<code>role="button"</code>属性を使うという過ちを犯す開発者もいます。これは、もともとリンクが持っていたはずの暗黙の<code>"link"</code>ロールを、明示的に指定された<code>"button"</code>ロールで上書きするため、スクリーンリーダーはこのリンクをボタンとして読み上げることになります。このリンクの<em>ふるまい</em>は新しいページを読み込むという動作のまま変わらないため、スクリーンリーダーユーザーを欺き、混乱させることになります。これは避けるべきです。</p><pre><code class=" language-markup"><span class="token comment">&lt;!-- これは使わないでください --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"button"</span><span class="token punctuation">&gt;</span></span>今すぐ購入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>視覚的な見た目をボタンにするとボタンの動作を連想させるので、そのような装飾を適用するのは実際の<code>&lt;button&gt;</code>だけにとどめることをおすすめします。ボタンのスタイルとは別に、標準のリンクよりもユーザーの購買意欲を刺激し、かつ他のボタンとは似ていない、独自のコールトゥアクションリンクのスタイルを用意しておくとよいでしょう。</p><pre><code class=" language-css"><span class="token selector">a </span><span class="token punctuation">{</span>
    <span class="token comment">/* 標準のリンクのスタイル */</span>
<span class="token punctuation">}</span>

<span class="token selector">a.call-to-action </span><span class="token punctuation">{</span>
    <span class="token comment">/* 強調されたリンクのスタイル */</span>
<span class="token punctuation">}</span>

<span class="token selector">button </span><span class="token punctuation">{</span>
    <span class="token comment">/* &lt;button&gt;要素のスタイル */</span>
<span class="token punctuation">}</span></code></pre><p><img src="images/link_action_button.png" alt="基本的なリンク
アクション
ボタン
3つのコントロール：下線つきの基本的なリンク、囲み線つきのアクションリンク、背景色のついたボタン。"/></p><h4>コードの補足</h4>
<ul>
<li>これらの要素はそれぞれ異なる扱われ方をしますが、共通の色を使うことを強くおすすめします――この色は、3つの要素に共通する<em>インタラクティブ</em>という特性を示すことになります。認識しやすくするために、リンクが青であれば、ボタンも青にすべきです。これで、青はクリックできるという意味になります。</li>
<li>ここでは、<code>.call-to-action</code>クラスを<code>a</code>という要素名と一緒に指定しています。要素名の指定は冗長だという意見をどこかで目にしたことがあるかもしれませんが、重要な意味があります。<code>.call-to-action</code>のスタイルを<code>a</code>要素にしか適用できないようにしているのです。<code>.call-to-action</code>を<code>&lt;button&gt;</code>や、アクセシブルでないインタラクティブな<code>&lt;div&gt;</code>要素に指定しても、スタイルは反映されません。これにより、開発者が間違った要素を使うことを効果的に防ぐことができます。イアン・マクバーニー（Ian McBurnie）は「<a href="http://www.ebaytechblog.com/2015/11/04/how-our-css-framework-helps-enforce-accessibility/"><span class="link">How Our CSS Framework Helps Enforce Accessibility</span></a>」というすばらしい記事の中で、いくつかの同様の対策について詳しく説明しています。</li>
<li><code>&lt;button&gt;</code>がリンクと異なっているもうひとつの点は、<code>pointer</code>カーソルスタイルを持たないことです。アダム・シルバー（Adam Silver）は「<a href="https://medium.com/simple-human/buttons-shouldnt-have-a-hand-cursor-b11e99ca374b#.qoxbgwz15"><span class="link">Buttons shouldn’t have a hand cursor</span></a>」の中で、<code>&lt;button&gt;</code>要素に手動で<code>cursor: pointer</code>を追加することが、ユーザビリティ上の誤りである理由を説明しています。<code>&lt;button&gt;</code>にこのカーソルスタイルを適用するのは標準の動作ではなく、長年続いてきた慣習を破ることにはリスクがあります。</li>
</ul>
<h3>標準の動作を活かす</h3><p>2つめの落とし穴の説明はもっと簡潔です。リンクするという動作が必要な場合、リンクのふるまいをそのまま利用します。というと単純に聞こえますが、私たちはインターフェイスに過剰な細工をしてしまいがちです。とりわけクライアントサイドのJavaScriptフレームワークには、標準のリンクのふるまいを乗っ取る習慣があるようです。これは、JavaScriptの世界の中だけで作業したいというフレームワーク利用者にとっては便利かもしれません。しかし、ユーザーの役には立ちません。</p><p>JavaScriptが利用できないとリンクの基本的なふるまいも機能しませんし、利用<em>できる</em>場合であっても、その体験は不満が残るものになります。カーソルを合わせてもURLは “javascript:;” と表示されるだけですし、リンクをブラウザのタブリストにドラッグすることもできません。右クリックのコンテキストメニューでも、リンク用のメニューが利用できません。ブラウザは、<code>&lt;a&gt;</code>要素を普通に使っている場合にだけ、これらの機能を提供します。</p>
<div class="translator_note" id="translator_note2630"><h4>訳註</h4><p>リンクをブラウザのタブリストにドラッグすると、そのリンク先を新しいタブで開くという動作になります。</p></div>
<div class="translator_note" id="translator_note2632"><h4>訳註</h4><p>通常、リンクを右クリックすると「新しいタブで開く」「新しいウィンドウで開く」といったメニューが表示されます。右クリックしたリンクがjavascript:スキームのものだった場合、Firefoxではこれらのメニューが消え、Internet Explorerではグレーアウトします。なお、Chromeはいつもと同じように「新しいタブで開く」が選択できますが、選択すると新しいタブで空白のページが開いてしまいます。Edgeの場合は「新しいタブで開く」が選択でき、選択しても何も起きないという挙動になります。</p><p>なお、これらの動作はそれぞれCtrlキー、Shiftキーを押しながらクリックすることで呼び出すこともできます。この場合も、押しても何も起きない、空白ページのタブが開く、といったユーザーの期待を裏切る動作になります。</p></div>
<pre><code class=" language-markup"><span class="token comment">&lt;!-- 堅牢で機能が豊富 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"call-to-action"</span><span class="token punctuation">&gt;</span></span>今すぐ購入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- 堅牢ではなく機能が不十分 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"javascript:;"</span> <span class="token attr-name">data-action</span><span class="token attr-value"><span class="token punctuation">=</span>"naked-man-in-garage"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"call-to-action"</span><span class="token punctuation">&gt;</span></span>今すぐ購入<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><h3>ユニークで説明的なリンクテキスト</h3><p>現状では、各商品のリンクに全て同じ「今すぐ購入」というラベルがついていることを忘れないようにしましょう。この状態では、スクリーンリーダーでリンクのリストを表示しても、以下のような役に立たないものになってしまいます。</p><ul><li>今すぐ購入</li><li>今すぐ購入</li><li>今すぐ購入</li><li>今すぐ購入</li><li>今すぐ購入</li></ul><p>この商品のタイトルは、既に<code>&lt;h3&gt;</code>で視覚的に表示されており、リンクの目的を示すものになっています。これをリンク内に非表示のテキストとして配置しましょう。</p>
<div class="translator_note" id="translator_note2641"><h4>訳註</h4><p>この例では、リンクラベルに追加したい文字列が既に見出しとして存在するため、見出しにidをつけて、aria-labelledbyで参照するという方法もあります。ただし、idはページ内でユニークでなければならないため、商品がリストとして列挙される場合、商品ごとに異なるidをつけなければなりません。それが難しい場合には、この方法は採用しづらいでしょう。</p><h5>参考</h5><ul><li><a href="http://waic.jp/docs/WCAG-TECHS/ARIA7.html">ARIA7: リンクの目的を示すために aria-labelledby を使用する</a></li></ul></div>
<pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"call-to-action"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"visually-hidden"</span><span class="token punctuation">&gt;</span></span>ガソリンスタンドにたたずむ裸の男を<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>今すぐ購入
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>これで、リンクテキストが文脈から外れても単独で意味をなすようになりました。4章「ブログ記事」で説明したように、<code>visually-hidden</code>クラスはもちろん<a href="http://snook.ca/archives/html_and_css/hiding-content-for-accessibility"><span class="link">スクリーンリーダーでもアクセシブルな非表示テクニック</span></a>に準じています。リンクテキスト内に商品名を入れる利点は他にもあります。検索エンジンにページをより理解させるための、よく知られた手法だということです。<a href="https://webmasters.googleblog.com/2008/10/importance-of-link-architecture.html"><span class="link">Googleは説明的なリンクテキストの使用を推奨しています</span></a>。Googleのクローラーは（リンクテキストと、リンク先ページの<code>&lt;title&gt;</code>または<code>&lt;h1&gt;</code>が似ていると）関連性が高そうだと見なせるからです。</p><p>全体的なレイアウトは以下のように整いました。</p><p><img src="images/photo_layout.png" alt="商品リスト項目のレイアウト。上部にタイトルと写真家ページへのリンク、下部の左にサムネイル画像、右に商品の詳細と購入ボタンが配置されている。

ガソリンスタンドにたたずむ裸の男 by ケニー・マルバートン
サイズ：90cm × 30cm
価格：35.95ユーロ
評価：★★★★☆（5つ星のうち 4）
今すぐ購入"/></p><h3>ブロックレベルのリンク</h3><p>HTML5では、<a href="http://html5doctor.com/block-level-links-in-html-5/"><span class="link">リンク（<code>&lt;a&gt;</code>要素）の中に、いわゆるブロックレベルのコンテンツを含められるようになりました</span></a>。つまり、商品アイテムの全体をリンクでくくることができます。この方法にはアイテムのクリッカブルエリアが増えるというメリットがあります。その代わり、今回の例では写真家ページへの子リンクは削除することになります。</p>
<div class="translator_note" id="translator_note2654"><h4>訳註</h4><p>HTML5ではa要素にさまざまな要素を入れることができるようになりましたが、依然としてa要素の子孫にa要素を入れることはできません。そのため、商品全体をa要素に入れると、その子孫要素となる写真家の名前部分をa要素にすることができなくなります。</p><h5>参考</h5><ul><li><a href="https://html.spec.whatwg.org/multipage/text-level-semantics.html#the-a-element">HTML Living Standard - 4.5.1 The a element</a></li></ul></div>
<pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>ガソリンスタンドにたたずむ裸の男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"裸の男性が何食わぬ顔で給油ポンプにもたれかかっている、ハイコントラストの白黒写真。"</span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>サイズ:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>90cm × 30cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>価格:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>35.95ユーロ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>評価:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>(5つ星のうち 4)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>今では、このマークアップが技術的に<em>不適合</em>であるという問題はなくなりましたが、もっと重要な、UXに関する懸念がいくつもあります。</p>

<ol>
<li>このリンクには専用のラベルがなく、視覚的にも、支援技術に対しても、いかにもリンクらしいリンクテキストが伝えられることはありません。その結果、ユーザーは<em>リンクに触れる</em>（マウスカーソルを載せて手の形になるか、キーボードフォーカスが表示される）まで、インタラクションがあることがわかりません。</li>
<li>この構造は一部のスクリーンリーダーで予期せぬ動作を引き起こします。たとえばVoiceOverの場合、<em>Ctrl</em> + <em>Alt</em> + <em>Cmd</em> + <em>H</em>を使用して商品の見出しへ移動しようとすると、見出しを囲むリンクにフォーカスされ、見出しのセマンティクス（「見出しレベル3」）は読み上げられません。<div class="translator_note" id="translator_note2674"><h4>訳註</h4><p>これはOS XのVoiceOverに固有の問題かもしれません。iOSのVoiceOverでは、見出し読みモードにしてジャンプしてきた場合、「ガソリンスタンドにたたずむ裸の男、見出しレベル3、リンク」のように読まれます。また、NVDAでも見出しジャンプで同様に読みます。</p><p>なお、iOSのVoiceOverでは、行読みモードでa要素内の各行を読もうとした際、行を移動するたびにa要素の先頭から読みなおしてしまうという問題があるようです。</p></div></li>
<li>ほとんどの支援技術は、リンクにフォーカスするとリンク内のすべてのテキストを読み上げ始めるため、かなり冗長です。<div class="translator_note" id="translator_note2676"><h4>訳註</h4><p>iOSのVoiceOverは1行ずつしか読まず、リンク読みモードで飛んでも「ガソリンスタンドにたたずむ裸の男、見出しレベル3、リンク」のように先頭の行だけを読んでいったん切れるようです。</p><p>他のほとんどのスクリーンリーダーでは、a要素内の全ての単語を読み上げた後で「リンク」と通知するため、長大なテキストが入っていると、それがリンクであることがなかなかわからない可能性があります。</p></div></li>
<li>タッチデバイスユーザーはまず間違いなく、画面内の押せそうに<em>見えない</em>部分を押してしまい、誤ってリンクをたどることになるでしょう。たいへん、いまいましい体験をすることになります。</li>
</ol>
<p>一般に、この例のようなブロックレベルのリンクは避けた方がよいでしょう。仕様に沿った、技術的には妥当なマークアップだからといって、快適なユーザー体験をもたらすということにはなりません。アクセシビリティコンサルタント兼トレーナーであるカール・グローブス（Karl Groves）は、記事<a href="http://www.karlgroves.com/2015/01/06/to-hell-with-compliance/"><span class="link">「To Hell With Compliance」</span></a>の中で、お役所仕事的な仕様準拠テストがインクルージョンの達成にほとんど役に立たない理由を述べています。それは、最低限の対応にすぎないのです。オンラインサービスに対する苦情は、ほとんど常にインターフェイスを実際に<em>使う</em>ことができない人々によるものです。仕様に100％準拠しているインターフェイスでも、全く使いものにならない可能性はあります。逆に、軽微なエラーがあるインターフェイスでも、シンプルで構造のしっかりした、明快で快適に使えるものになっているかもしれません。</p><p>支援技術に関連するアクセシビリティ上のエラーの大半は、マークアップエラーです。そして、マークアップエラーは簡単に発見できます。そのため、支援技術の問題は個々のコードエラーの問題であり、それを修正すればよいと考える文化があります。</p><p>インクルーシブデザインの立場は異なります。セマンティックで堅牢なインターフェイスを作る際にマークアップが重要であることは認識しつつも、目標はあくまでもユーザーが<em>実際に目的を達成</em>できるということです。マークアップの品質は、UXの観点からどんな体験を提供できるかで評価されます。</p><h2>SERP</h2><p>サイト内で表示する商品については、十分に満足できるパターンを作ることができました。しかし、顧客が商品を探したり商品情報を見たりする際に利用するのは、サイト内のインターフェイスだけではありません。サイトが適切にインデックス化されていれば、SERP (search engine results pages、検索エンジンの検索結果ページ)  にも商品が表示されます。</p><p>GoogleなどのSERPのメリットは、どんなコンテンツを検索するときもインターフェイスが同じだということです。特に支援技術ユーザーの中には、使い慣れたインターフェイスだという理由で、Google検索に大きく依存している人もいます。よく使われるのは、以下のように<em>site:</em>という接頭辞をつけることで、選んだWebサイトに限定して検索するという裏技です。</p><pre><code>site:shop.the-photography-site.com [検索語句]</code></pre><p>Googleがサイトのコンテンツを列挙するときの見た目を、サイト側でコントロールすることはできません。しかし、ワーディングはコントロールできます。たとえば、検索結果に列挙されるページの<code>&lt;title&gt;</code>は、個々の検索結果の中でリンクになっている<code>&lt;h3&gt;</code>要素に使われます。2章「ドキュメント全体」でも説明したように、<code>&lt;title&gt;</code>テキストは説明的でわかりやすいものにするべきですが、さらなる理由がここにあります。実際、よく練られた<code>&lt;title&gt;</code>テキストは検索順位を上げることができますが、<a href="http://www.hobo-web.co.uk/title-tags/#spammy-title-tags"><span class="link">スパムのような<code>&lt;title&gt;</code>は避けましょう</span></a>。Googleにペナルティを科せられるだけでなく、そのような<code>&lt;title&gt;</code>は読みにくく、それゆえインクルーシブとは言えないコンテンツを構成する傾向があります。</p>
<div class="translator_note" id="translator_note2699"><h3>訳註</h3><p>2017年9月現在、Googleの検索結果ページでは、検索結果のページタイトルが&lt;h3&gt;でマークアップされています。</p></div>
<p>このサイトでは商品を扱っていますので、<a href="https://developers.google.com/structured-data/"><span class="link">構造化データ</span></a>を使用することで、検索結果に商品の情報を追加できる可能性があります。簡単に言うと、構造化データは、Googlebotなどのプログラムによって構文解析できるメタ情報を増やします。WAI-ARIAに少し似ていますが、支援技術をサポートするものというより、データをアーカイブする際に利用されるものです。構造化データは、ユーザーに直接的な影響を与えます。検索結果に商品の価格や評価といった詳細な情報が含まれるようになるからです。これらの情報を検索結果に盛り込めば、検索エンジンに頼ってコンテンツを閲覧するユーザーの体験を向上させることができます。</p><h3>Productボキャブラリーの使用</h3><p>構造化データは、さまざまな<em>ボキャブラリー</em>に分けられており、それぞれ異なる種類のコンテンツに適用できます。今回の用途には、商品に固有のプロパティを定義する<em>Productボキャブラリー</em>があり、http://schema.org/Productで確認できます。</p><p>個々の商品の構造化データを含めるのに最適な場所は、商品のパーマリンクページです。すなわち、「今すぐ購入」ボタンを押したときに移動し、ユーザーが商品の詳細を確認したり、購入方法を選択できるページです。このページのマークアップには、おおむね以下のようなテンプレートが使われていることでしょう。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"main"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
        ガソリンスタンドにたたずむ裸の男
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>ケニー・マルバートン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"裸の男性が何食わぬ顔で給油ポンプにもたれかかっている、ハイコントラストの白黒写真"</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>サイズ:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>90cm × 30cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>価格:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>35.95ユーロ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>評価:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>(5つ星のうち 4)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>支払い方法の選択<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ここに購入ウィジェット --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre><p>では、このプレーンなマークアップに手を加え、構造化データを含むようにしてみましょう。ここで紹介する方法は、<a href="https://developers.google.com/structured-data/rich-snippets/products#about_product_offers"><span class="link">Google自身が提供している、マイクロデータ（構造化データの一種）を使用する例</span></a>に基づいています。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"main"</span> <span class="token attr-name">itemscope</span> <span class="token attr-name">itemtype</span><span class="token attr-value"><span class="token punctuation">=</span>"http://schema.org/Product"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h1</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"name"</span><span class="token punctuation">&gt;</span></span>ガソリンスタンドにたたずむ裸の男<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>ケニー・マルバートン<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h1</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"image"</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"裸の男性が何食わぬ顔で給油ポンプにもたれかかっている、ハイコントラストの白黒写真"</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>サイズ:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>90cm × 30cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>価格:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"offers"</span> <span class="token attr-name">itemscope</span> <span class="token attr-name">itemtype</span><span class="token attr-value"><span class="token punctuation">=</span>"http://schema.org/Offer"</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"priceCurrency"</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span>"EUR"</span> <span class="token punctuation">/&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"price"</span><span class="token punctuation">&gt;</span></span>35.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>ユーロ
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>評価:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"aggregateRating"</span> <span class="token attr-name">itemscope</span> <span class="token attr-name">itemtype</span><span class="token attr-value"><span class="token punctuation">=</span>"http://schema.org/AggregateRating"</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"ratingValue"</span><span class="token punctuation">&gt;</span></span>4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> つ星、レビュー数<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">itemprop</span><span class="token attr-value"><span class="token punctuation">=</span>"reviewCount"</span><span class="token punctuation">&gt;</span></span>13<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h2</span><span class="token punctuation">&gt;</span></span>支払い方法の選択<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h2</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ここに購入ウィジェット --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre><h4>コードの補足</h4>
<ul>
<li>全体をくくる<code>&lt;main&gt;</code>要素に対して、ブール型属性の<code>itemscope</code>と、<code>itemtype</code>の参照を指定して、商品データのコンテキストを定義しています。</li>
<li>必要なプロパティを定義するために、いくつかの<code>&lt;span&gt;</code>を追加しています。商品名を定義するために、商品のタイトル「ガソリンスタンドにたたずむ裸の男」を、<code>itemprop="name"</code>を持つ<code>&lt;span&gt;</code>でくくっています。</li>
<li>評価と価格（オファー）は、それぞれ「AggregateRating」および「Offer」ボキャブラリーを加えて定義しています。</li>
<li>「EUR」という3文字のISO通貨コードなど、一部のプロパティは表示されるコンテンツ（テキストノード）と一致しません。代わりに、<code>&lt;meta&gt;</code>タグを使ってこの情報を提供しています。完全な<a href="https://en.wikipedia.org/wiki/ISO_4217#Active_codes"><span class="link">ISO通貨コードのリストはWikipediaで確認できます</span></a>。</li>
<li>Googleのツールで<a href="https://developers.google.com/structured-data/testing-tool/"><span class="link">構造化データをテスト</span></a>し、プロパティが有効および適切であることを確認できます。</li>
</ul>
<p>Googleの検索結果ページにおける、最終的な結果 (だじゃれのつもりではありません) は、たとえば以下のようになります。</p><p><img src="images/serp.png" alt="Google検索エンジンでの写真の検索結果。タイトルと説明文に加え、評価と価格の情報が表示されている。"/></p><p>幸いなことに、Googleは追加された構造化情報を、これからサイトを訪れるかもしれないユーザーにとってアクセシブルなものにしています。たとえば、Googleの検索結果で使われている<code>&lt;g-review-stars&gt;</code>というCustom Elementsの内容を見ると、<code>aria-label</code>で評価が読み上げられるように工夫されています。</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g-review-stars</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"_ayg"</span> <span class="token attr-name">aria-label</span><span class="token attr-value"><span class="token punctuation">=</span>"Rated 4.0 out of 5"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation">=</span>"width:66px"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g-review-stars</span><span class="token punctuation">&gt;</span></span></code></pre><h2>まとめ</h2><p>このパターンで紹介した、インクルーシブな体験を最大化する商品リストのデザインとコーディングは、方法のひとつにすぎません。本書で取り上げるすべてのパターンと同様、インクルーシブデザインのセンスに磨きをかけるための単なる一例です。コンテンツの組織化と構造化が重要だという点は、これまでに紹介したパターンと同じです。しかし、画像のアクセシビリティについて、代替テキストの構成とパフォーマンスの両面からじっくり検討したのは、本書ではこれが初めてでした。目の不自由な消費者、高額な回線の契約を結べない人、サイトの<em>外</em>からコンテンツにアクセスする人のニーズに応えることで、インクルーシブデザインの限界を押し広げる機会となりました。</p><h3>避けるべきこと</h3>
<ul>
<li>一貫性のない使われ方をしていたり、最適化されていない商品画像。</li>
<li>役に立たない、または誤解を与える代替テキスト。</li>
<li>大量のテキストコンテンツを含むブロックレベルのリンク。</li>
<li>リンクテキスト内に商品名がない、商品のパーマリンクへのリンク</li>
</ul></div>
</body></html>
