<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
PUBLIC "-//W3C//DTD XHTML 1.1//EN"
       "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><title>A Filter Widget | Inclusive Design Patterns</title><link rel="stylesheet" href="css/book.css" type="text/css"/><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><meta name="EPB-UUID" content="24CC751A-5435-483D-851C-00DC23A33E17"/></head><body><div class="body"><h1>A Filter Widget</h1><p>In the previous chapter we went commercial and looked at a pattern for displaying products. How we marked up individual product components and how we grouped them together were both pertinent to inclusive design. We even made sure they would be rich with accessible information <em>outside</em> of our own interface, as search engine results.</p><p>What we&#8217;ve yet to address is providing the tools for users to reorganize and sort lists of content. Filtering tools are important because they offer an additional dimension of control over search, facilitating users&#8217; ability to prioritize the information they&#8217;re viewing. <em>Put users in control</em> is the second of Henny Swan&#8217;s principles.</p><p class="list"><span class="digit">1. </span>Give users choice.</p><p class="list"><span class="digit">2. </span><strong>Put users in control.</strong></p><p class="list"><span class="digit">3. </span>Design with familiarity in mind.</p><p class="list last-item"><span class="digit">4. </span>Prioritize features that add value.</p><p>Like the navigation regions we covered earlier in the book, filtering widgets are <em>meta</em> content, provided as a tool to change the content of the page. To make ours inclusive, we need to consider blind and keyboard users, potential performance issues and visual clarity.</p><p>The pattern will be founded on progressive enhancement and will work in the absence of both CSS and JavaScript, though we shall improve the experience inclusively with a careful application of those two technologies respectively.</p><h2>How It Might Look</h2><p><img src="images/filter.png" alt="Filter options displayed inline within a gray bar. The selected filter has a blue ring around it." /></p><p>Note that the selected control is highlighted in a color-independent fashion so that our color-blind and low vision users can determine the selected option.</p><h2>The Markup</h2><p>Some complex JavaScript widgets, like <a href="http://heydonworks.com/practical_aria_examples/#tab-interface"><span class="link">tab interfaces</span></a><sup><a href="#fn23_1"><span class="sup_link">1</span></a></sup>, depend on WAI-ARIA semantics and custom (JavaScript) keyboard bindings to be made fully accessible by keyboard and to screen readers. However, the <a href="https://www.w3.org/TR/aria-in-html/#first-rule-of-aria-use"><span class="link">first rule of ARIA use</span></a><sup><a href="#fn23_2"><span class="sup_link">2</span></a></sup> states:</p><blockquote class="blockquote-regular"><p><em>&#8220;If you</em> can <em>use a native HTML element or attribute with the semantics and behaviour you require <strong>already built in</strong>, instead of re-purposing an element and adding an ARIA role, state or property to make it accessible, <strong>then do so</strong>.&#8221;</em></p></blockquote><p>Standard browser-enabled interactivity is more performant and robust than that facilitated by custom JavaScript. If you can use it, you should, so it&#8217;s worth investigating.</p><p>Solutions usually rely on harnessing the behavior of standard HTML form elements. These have idiosyncratic semantics, key bindings and behaviors built in for our convenience. Just because JavaScript is (well, might be) available doesn&#8217;t mean you should use it to <a href="http://www.heydonworks.com/article/reinventing-the-hyperlink"><span class="link">reinvent the wheel</span></a><sup><a href="#fn23_3"><span class="sup_link">3</span></a></sup>.</p><p>In any case, our sorting widget consists of a set of mutually exclusive options each with their own unique label, and grouped under a common label. We can create this structure using a <code>&lt;fieldset&gt;</code>, <code>&lt;legend&gt;</code> and radio buttons. Imagining we&#8217;re still dealing in products, this is how the widget might look:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"form"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"sorter"</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span>"get"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">&gt;</span></span>Sort by<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span><span class="token punctuation">&gt;</span></span>most recent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"popularity"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"popularity"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"popularity"</span><span class="token punctuation">&gt;</span></span>popularity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"price-low-high"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"price-low-high"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"price-low-high"</span><span class="token punctuation">&gt;</span></span>price (low to high)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"price-high-low"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"price-high-low"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"price-high-low"</span><span class="token punctuation">&gt;</span></span>price (high to low)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"submit"</span><span class="token punctuation">&gt;</span></span>sort<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><h3>Notes</h3><p class="list"><span class="bullet">•</span>Having the ARIA role of <code>form</code> on a <code>&lt;form&gt;</code> seems counterintuitive, but it turns the widget into a region, making it navigable in screen readers using shortcuts. Since the basic functionality works without JavaScript and triggers a page refresh, this helps users navigate back to the form from the top of the document.</p><p class="list"><span class="bullet">•</span>The <code>&lt;form&gt;</code> contains a single <code>&lt;fieldset&gt;</code> which is used to group the radio options under the label &#8220;Sort by,&#8221; followed by a submit button. When a radio <code>&lt;input&gt;</code> is focused, the <code>&lt;legend&gt;</code> content is announced followed by the <code>&lt;input&gt;</code>&#8217;s <code>&lt;label&gt;</code>. To begin with, the first option (&#8220;most recent&#8221;) is checked. Standard behavior is that only this checked <code>&lt;input&gt;</code> is focusable by <em>Tab</em>. Focusing it would trigger the announcement of &#8220;Sort by most recent, selected, radio button, one of four.&#8221; &#8220;Sort by&#8221; is the group label; &#8220;most recent&#8221; is the element label; &#8220;selected&#8221; is the element state; &#8220;radio button&#8221; is the element role. The number four is the total number of radio buttons which share a common <code>name="sort-method"</code>.</p><p class="list"><span class="bullet">•</span>The browser delegates arrow keys (left and right, up and down) for selecting different options. Pressing the right arrow key, for instance, will focus and select the next radio button with the <code>name="sort-method"</code> attribute - &#8220;popularity.&#8221; In screen readers this will announce something similar to &#8220;Sort by popularity, selected, radio button, two of four.&#8221; Note that &#8220;Sort by&#8221; is read whichever radio button is selected. This ensures that if I were to leave the widget and begin focusing other page elements and then return to it, I&#8217;d be reminded of the sorting function no matter which option is currently selected.</p><p class="list last-item"><span class="bullet">•</span>We&#8217;re using the <code>get</code> method on the form to rebuild the page from the server without relying on client-side JavaScript, at this stage. For example, submitting the form with the popularity option selected will build a page with <code>?sort-method=popularity</code> as the query parameter. We&#8217;ll enhance the experience with JavaScript in the &#8220;JavaScript Enhancement&#8221; section to come.</p><h2>CSS Enhancement</h2><p>By designing our sorting widget with conventional, well-supported markup, we&#8217;ve already ensured it is accessible to keyboard and screen reader users. It can also be manipulated without a dependence on JavaScript and assumes a familiar form.</p><p>Despite the inclusive nature of standard radio buttons, they offer limited styling opportunities. This is the main reason why we dispense with them in favor of either completely inaccessible <code>&lt;div&gt;</code>- and <code>&lt;span&gt;</code>-based solutions, or comparatively fragile and complex WAI-ARIA implementations.</p><p>However, as I wrote in &#8220;<a href="http://www.sitepoint.com/replacing-radio-buttons-without-replacing-radio-buttons/"><span class="link">Replacing Radio Buttons Without Replacing Radio Buttons</span></a><sup><a href="#fn23_4"><span class="sup_link">4</span></a></sup>,&#8221; you don&#8217;t actually <em>have</em> to style the <code>&lt;input type="radio"&gt;</code> element directly. You can hide it and style the <code>&lt;label&gt;</code> as a proxy.</p><p>In the following structure, the <code>for</code>/<code>id</code> relationship means that clicking (or pressing) the <code>&lt;label&gt;</code> operates the associated <code>&lt;input&gt;</code>. That is, the <code>&lt;label&gt;</code> extends the click area of the <code>&lt;input&gt;</code>.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span> <span class="token attr-name">checked</span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span><span class="token punctuation">&gt;</span></span>most recent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span></code></pre><p>Not only does this help provide a larger, more ergonomic hit area for touch users, but we can use CSS to indicate the <code>&lt;input&gt;</code>&#8217;s <code>:focus</code> and <code>:checked</code> states in CSS. Note the use of adjacent sibling combinators to <em>pass</em> state to the label:</p><pre><code class=" language-css"><span class="token selector">[type="radio"] + label </span><span class="token punctuation">{</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> pointer<span class="token punctuation">;</span>
    <span class="token comment">/* other basic styles */</span>
<span class="token punctuation">}</span>

<span class="token selector">[type="radio"]:focus + label </span><span class="token punctuation">{</span>
    <span class="token comment">/* focus styles */</span>
<span class="token punctuation">}</span>

<span class="token selector">[type="radio"]:checked + label </span><span class="token punctuation">{</span>
    <span class="token comment">/* selected styles */</span>
<span class="token punctuation">}</span></code></pre><p>Now that all the interaction and visual feedback is attached to the label, we can safely hide the obstinately ugly radio button from view.</p><pre><code class=" language-css"><span class="token selector">.sorter [type="radio"] </span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 1px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">height</span><span class="token punctuation">:</span> 1px <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">padding</span><span class="token punctuation">:</span>0 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">border</span><span class="token punctuation">:</span>0 <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">overflow</span><span class="token punctuation">:</span> hidden <span class="token important">!important</span><span class="token punctuation">;</span>
    <span class="token property">clip</span><span class="token punctuation">:</span> rect(1px, 1px, 1px, 1px)<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>In summary: never fix with JavaScript and WAI-ARIA what can be achieved with HTML and CSS. &#8220;<a href="http://wtfforms.com/"><span class="link">WTF, forms?</span></a><sup><a href="#fn23_5"><span class="sup_link">5</span></a></sup>&#8221; by Mark Otto provides similar CSS enhancement solutions for checkboxes, <code>&lt;select&gt;</code> elements, and file inputs.</p><h2>JavaScript Enhancement</h2><p>The pattern we&#8217;ve devised is already fully functional and robust. It&#8217;s fair to say it&#8217;s a bit <em>clunky</em>, though. Where JavaScript is available to the user, we ought to enhance the experience where we can. But just because JavaScript is available, doesn&#8217;t mean we should get carried away tearing everything up and rewriting it. The foundation is solid; there&#8217;s no need to recreate in JavaScript the parts that already work without it.</p><p>Each time a user chooses a new filtering option and hits the sort button, there&#8217;s currently a page refresh. By now, you&#8217;ll know what this means for screen reader and keyboard users: having to hear all the page information again or having to traverse through all the document&#8217;s preamble to get to the content they were just interacting with. Or both.</p><p>Where possible, we should aim to repopulate our list with <a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><span class="link">XHR</span></a><sup><a href="#fn23_6"><span class="sup_link">6</span></a></sup>. That way, new content can be added without reloading the page and the keyboard-dependent user can progress directly from the widget (where focus will remain) into the content.</p><h3>Waiting</h3><p>Telling users that content is pending and will arrive in a matter of time is the preserve of the ubiquitous loading symbol, which looks a bit like this:</p><p><img src="images/loading.png" alt="The circular loading graphic with the text ‘Loading products&hellip;’" /></p><p>The trouble is, this is only determinable by sighted users. It&#8217;s important to communicate that content is being fetched to screen reader users as well. Otherwise they might be left wondering if hitting the sort button did anything at all.</p><p>The WAI-ARIA specification provides <a href="http://w3c.github.io/aria/practices/aria-practices.html#LiveRegions"><span class="link">live regions</span></a><sup><a href="#fn23_7"><span class="sup_link">7</span></a></sup> for just this kind of thing. Usually, content is only announced in screen readers when either:</p><p class="list"><span class="bullet">•</span>An element is focused either by the user or programmatically.</p><p class="list last-item"><span class="bullet">•</span>The user navigates to an element using their screen reader&#8217;s own navigation commands (such as pressing <em>9</em> in NVDA to announce the following line).</p><p>But live regions announce their content simply when that content changes. In practice, this means we can provide commentary to screen reader users without asking them to leave their location in the page. After the sort button is pressed, we can populate a live region with the message, &#8220;Please wait. Loading products.&#8221;</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation">=</span>"assertive"</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"alert"</span><span class="token punctuation">&gt;</span></span>
    Please wait. Loading products.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><p>Then, when the products are loaded, we can change the live region content to inform the user:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">aria-live</span><span class="token attr-value"><span class="token punctuation">=</span>"assertive"</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"alert"</span><span class="token punctuation">&gt;</span></span>
    Loading complete. 23 products listed.
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre><h4>Notes</h4><p class="list"><span class="bullet">•</span>The <a href="http://w3c.github.io/aria/aria/aria.html#aria-live"><span class="link"><code>aria-live="polite"</code></span></a><sup><a href="#fn23_8"><span class="sup_link">8</span></a></sup> property and the <a href="http://w3c.github.io/aria/aria/aria.html#status"><span class="link"><code>status</code></span></a><sup><a href="#fn23_9"><span class="sup_link">9</span></a></sup> role are equivalent. Both are provided to maximize compatibility across platforms and screen readers (in some setups, only one or the other is recognized).</p><p class="list"><span class="bullet">•</span>We would populate the live region with the message using simple JavaScript DOM manipulation: <code>liveElement.textContent = '[message]'</code>.</p><p class="list"><span class="bullet">•</span>The equivalent <code>assertive</code> and <code>alert</code> values mean the current readout of the screen reader will be interrupted to announce the live region&#8217;s new message. Since the user might move away from the widget to read some other content, this means they will be told that the products are ready immediately. Alternative <code>polite</code> and <code>status</code> values would mean the live region contents are announced only after the screen reader has finished announcing the content it is currently set to announce.</p><p class="list"><span class="bullet">•</span>For app notifications, you would need to style and display the live region&#8217;s contents so that it doubled as a visual message. However, the loading symbol (and its eventual removal) already say what needs to be said. In which case, we can hide our live region from view, so that it is only available non-visually. Once again, we&#8217;d call on a <a href="http://snook.ca/archives/html_and_css/hiding-content-for-accessibility"><span class="link">screen reader accessible hiding method</span></a><sup><a href="#fn23_10"><span class="sup_link">10</span></a></sup>.</p><p class="list last-item"><span class="bullet">•</span>Deque offers a <a href="https://dequeuniversity.com/library/aria/content-feedback/liveregion-playground"><span class="link">live region playground</span></a><sup><a href="#fn23_11"><span class="sup_link">11</span></a></sup> for exploring a number of settings. If you&#8217;re a Mac user, the quickest way to get started testing with this is to open it in Safari and turn on VoiceOver (<em>Cmd</em> + <em>F5</em>).</p><h3>Foregoing the Submit Button</h3><p>Now that we&#8217;re not making use of our <code>get</code> functionality, we&#8217;ll need to prevent the page refreshing by suppressing the submit button&#8217;s default form submission functionality. We do this by catching the <code>submit</code> event.</p><pre><code class=" language-javascript"><span class="token keyword">var</span> sortForm <span class="token operator">=</span> document<span class="token punctuation">.</span>querySelector<span class="token punctuation">(</span><span class="token string">'.sorter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortForm<span class="token punctuation">.</span>addEventListener<span class="token punctuation">(</span><span class="token string">'submit'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>

    <span class="token comment">// keep the browser from submitting the form,
</span>    <span class="token comment">// because we’re handling this with XHR
</span>    event<span class="token punctuation">.</span>preventDefault<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// XHR request handling here
</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>This begs the question whether we need the submit button at all. Perhaps, for greater immediacy, we could remove the submit button with JavaScript and attach the XHR functionality to the change event.</p><pre><code class=" language-javascript"><span class="token keyword">var</span> sortForm <span class="token operator">=</span> document<span class="token punctuation">.</span>querySelector<span class="token punctuation">(</span><span class="token string">'.sorter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortForm<span class="token punctuation">.</span>addEventListener<span class="token punctuation">(</span><span class="token string">'change'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>type <span class="token operator">!</span><span class="token operator">==</span> <span class="token string">'radio'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    this<span class="token punctuation">.</span>submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Since we&#8217;ve styled our radio controls to look like buttons and provided clear feedback via our loading symbol and live region, this seems like a fairly safe course of action. However, we must be mindful of the <em>give users control</em> principle mentioned at the beginning of this chapter. By removing an explicit submission action, it&#8217;s possible that triggering the XHR will be unexpected to some users. They may feel their control has been usurped and this may diminish their trust in the interface.</p><p>In addition, note that keyboard users operating the widget must use their arrow keys to move through the radio options. Each arrow keypress not only focuses adjacent radio buttons but <em>selects them</em> as well. This means moving through the options in either direction would fire the <code>change</code> event three times in total.</p><p>It&#8217;s possible to limit this enhanced XHR-on-choosing-filter-option functionality to mouse and touch users by switching from using the <code>change</code> event to using <code>click</code>.</p><pre><code class=" language-javascript"><span class="token keyword">var</span> sortForm <span class="token operator">=</span> document<span class="token punctuation">.</span>querySelector<span class="token punctuation">(</span><span class="token string">'.sorter'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
sortForm<span class="token punctuation">.</span>addEventListener<span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>event<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>type <span class="token operator">!</span><span class="token operator">==</span> <span class="token string">'radio'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    this<span class="token punctuation">.</span>submit<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>However, this would mean hiding the now redundant submit button and trusting that keyboard users would know to press <em>Enter</em> to submit the form. Note that you can&#8217;t simply <em>remove</em> the submit button because some platforms (notably iOS) will not submit forms where a submit button isn&#8217;t present. In which case, we&#8217;d have to use our special <code>.visually-hidden</code> class, plus <code>tabindex="-1"</code> to make sure the button isn&#8217;t user-focusable:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"submit"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"visually-hidden"</span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation">=</span>"-1"</span><span class="token punctuation">&gt;</span></span>sort<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><p>Even with these measures in place, whether users actually understand or <em>like</em> this enhancement is a question for user testing. Recruiting a diverse test group is the best way to properly confirm inclusive design decisions.</p><blockquote><p>&#8220;Include disabled participants as part of a wider user testing recruitment process. The numbers will be small, but aim to capture a range of disabilities and assistive technologies.&#8221; &ndash; Government Digital Services (UK)</p></blockquote><p>The Government Service Design Manual has an informative section on <a href="https://www.gov.uk/service-manual/user-centred-design/user-research/accessibility-testing.html"><span class="link">accessibility testing</span></a><sup><a href="#fn23_12"><span class="sup_link">12</span></a></sup> as a complement to standard user testing. For smaller budgets and timeframes, diverse users should be made part of the main test group.</p><h2>Loading More Results</h2><p>If we have a large inventory of products, some search terms and filtering options are likely to match a considerable number of items. Retrieving and rendering all of them at once would cause a serious performance bottleneck, as well as producing an intimidating and unwieldy page. Far better to load a smaller set of results, then retrieve more as and when the user needs them. I can think of a few different ways to do this. One of them &mdash; infinite scroll &mdash; has some serious problems regarding inclusivity.</p><h3>Infinite Scroll</h3><p>The <a href="https://www.smashingmagazine.com/2013/05/infinite-scrolling-lets-get-to-the-bottom-of-this/"><span class="link">infinite scroll</span></a><sup><a href="#fn23_13"><span class="sup_link">13</span></a></sup> pattern harnesses the user&#8217;s scroll behavior to automatically load new content at the point that they reach the current content&#8217;s end. The aim is to provide a stream of new content to the user without necessitating an action on their part. Unless implemented very carefully, infinite scroll tends to result in a frustrating experience for a number of different input modes.</p><p>As a mouse user, I might scroll the page by dragging the scrollbar&#8217;s handle. When new results load, this handle will move upwards in accordance with the greater amount of content. Not realizing the handle has moved away from reach, I may click the scroll track instead and make the page lurch downwards from my current location: a hugely counterintuitive and annoying experience, wherein I&#8217;m liable to skip over unread content.</p><p>As <a href="http://simplyaccessible.com/article/infinite-scrolling/"><span class="link">Derek Featherstone writes</span></a><sup><a href="#fn23_14"><span class="sup_link">14</span></a></sup>, infinite scrolling is also a frustrating experience for keyboard users. When items within the stream have interactive elements (such as our &#8220;Buy Now&#8221; buttons), focusable elements are added to the stream ad infinitum, making it impossible to tab past the main content to interactive elements that reside below it in the footer.</p><p>Derek offers two solutions. He&#8217;s so fond of one that he lists it twice:</p><p class="list"><span class="digit">1. </span>Just don&#8217;t implement infinite scrolling.</p><p class="list"><span class="digit">2. </span>Replace automatic infinite scrolling with a &#8220;Load more results&hellip;&#8221; button or link that explicitly invites the user to add more. Once they do a few times, prompt them to ask if they&#8217;d like to turn auto-loading of more results on.</p><p class="list last-item"><span class="digit">3. </span>No, really, just don&#8217;t implement infinite scrolling.</p><h3>The &#8220;Load More&#8221; Button</h3><p>The &#8220;Load more&#8221; button &mdash; and it <em>should</em> be a <code>&lt;button&gt;</code> &mdash; resides at the end of the current crop of results and clicking it sends an XHR request to load the next set.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- penultimate item --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- last item --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">data-load-more</span><span class="token punctuation">&gt;</span></span>Load more<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span></code></pre><p>After the new content is rendered, it&#8217;s important that keyboard focus is moved from the <code>data-load-more</code> button to the first of the newly loaded items. Otherwise, the user&#8217;s view will not change and focus will remain on the <code>data-load-more</code> button which has now been pushed off-screen by the added content.</p><p>Note that most implementations <em>only</em> remove focus from the button, and don&#8217;t move it elsewhere. This results in what&#8217;s sometimes called <em>freak out mode</em> whereby the browser doesn&#8217;t know what to focus and defaults to focusing the document body. The outcome is that keyboard (including screen reader) users are sent right to the start of the page content.</p><p>An effective course here is to switch focus to the title (<code>&lt;h3&gt;</code>) of the first newly returned product. This will place that product at the top of the viewport (which benefits all kinds of sighted users) and trigger the announcement of the <code>&lt;h3&gt;</code>&#8217;s text in screen readers, naming the first instance of the new content.</p><p>Note that <code>tabindex="-1"</code> has to be applied to the first item&#8217;s <code>&lt;h3&gt;</code> to make it focusable with JavaScript&#8217;s <code>focus()</code> method. Unlike <code>tabindex="0"</code>, elements are not focusable by keyboard users directly. In this case, user focus is not desirable because the <code>&lt;h3&gt;</code> is not an actionable (interactive) element. We are only focusing the <code>&lt;h3&gt;</code> to place the user in the correct context and to trigger announcement. A press of the <em>Tab</em> key will take them to the artist link, and another press to the &#8220;Buy now&#8221; link.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation">=</span>"-1"</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- make the title focusable --&gt;</span>
        Naked Man In Garage Forecourt
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>Kenny Mulbarton<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/naked-forecourt-man.jpg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>"high contrast black and white image of a naked man nonchalantly leaning against a petrol pump."</span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dl</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Size:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>30cm × 90cm<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Price:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span>&euro;35.95<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dt</span><span class="token punctuation">&gt;</span></span>Rating:<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dt</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dd</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"/images/rating_4_5.svg"</span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation">=</span>""</span><span class="token punctuation">&gt;</span></span>4 out of 5 stars<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dd</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dl</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/product/naked-man-in-garage"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"call-to-action"</span><span class="token punctuation">&gt;</span></span>
        Buy <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"visually-hidden"</span><span class="token punctuation">&gt;</span></span>Naked Man In Garage Forecourt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span> Now
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- second newly returned product --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- etc --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span></code></pre><p>As with choosing a filtering option, an XHR has to be handled. We should, therefore, supply a loading graphic and live region. In this case, we can replace the &#8220;Load more&#8221; button&#8217;s text node with that graphic. The order of events should be as follows:</p><p class="list"><span class="digit">1. </span>The user clicks the &#8220;Load more&#8221; button.</p><p class="list"><span class="digit">2. </span>The button&#8217;s text is changed to &#8220;Loading:&#8221; and is set to handle no further clicks. You can catch the click and simply <code>return</code> if the loading state is detected (for instance, by looking for &#8220;Loading&#8221; in the button&#8217;s <code>textContent</code>).</p><p class="list"><span class="digit">3. </span>A hidden live region announces, &#8220;Loading more products.&#8221;</p><p class="list"><span class="digit">4. </span>The XHR is handled.</p><p class="list"><span class="digit">5. </span>On success, the content is rendered.</p><p class="list"><span class="digit">6. </span>The live region announces, &#8220;Products loaded.&#8221;</p><p class="list"><span class="digit">7. </span>Focus is moved from the button to the first of the newly loaded product items. A smooth scrolling action could be used here, as described in &#8220;Navigation Regions.&#8221;</p><p class="list last-item"><span class="digit">8. </span>The &#8220;Load more&#8221; button has its original text node reinstated and <code>click</code> events are handled again.</p><p><img src="images/load_more.png" alt="The left button says “load more” and the right button says “loading” with the loading symbol. The second button is disabled so grayed out." /><br /><em>The &#8220;Load more&#8221; button in its initial state (left) and after being pressed (right).</em></p><p>Infinite scroll hijacks the user&#8217;s scrolling action to perform an unexpected behavior, commandeering user control and diminishing the user experience. The &#8220;Load more&#8221; button invites the user to take an explicit, labeled action at their convenience and therefore conforms to the second of Henny Swan&#8217;s UX principles, to <strong>give users control</strong>.</p><h2>Display Options</h2><p>Typically, designers see it as their job to foresee their users&#8217; needs and make intelligent decisions on their behalf. That&#8217;s what design is, right? Perhaps, but we have to contend with:</p><p class="list"><span class="bullet">•</span>Users having different preferences.</p><p class="list last-item"><span class="bullet">•</span>Users encountering different circumstances.</p><p>One example of making a decision on users&#8217; behalf is to disable zoom, using <code>user-scalable=no</code> on the viewport <code>&lt;meta&gt;</code> tag. This is to decide <em>for</em> the user what font size and magnification level suits them, and prevents them from adjusting it themselves. An audacious act, and foolhardy given the inevitable diversity of your audience.</p><p>We still have to make some decisions in isolation, of course, because not every part of a design can be informed directly by user research. But when we do, we can increase our confidence by deferring to:</p><p class="list"><span class="bullet">•</span><strong>Convention</strong>: Using widely adopted patterns, motifs or language.</p><p class="list last-item"><span class="bullet">•</span><strong>Choice</strong>: Allowing the user to decide how they want to consume something.</p><p>To complete our filtering widget pattern, we&#8217;re going to give our users a choice over the way the filtered content is displayed.</p><h3>List or Grid?</h3><p>In this final enhancement to our filtering interface, we&#8217;ll give the user the choice between displaying results in list or grid format. That way, they can select a visual display that best suits their cognitive needs. A list is a simple format, but necessarily longer vertically; a grid gives a better overview but compresses more information into the viewport at once.</p><p>The adapted filter widget might look like the following:</p><p><img src="images/filter2.png" alt="The filtering form now shows a new row for the display options." /><br /><em>The submit button now reads &#8220;apply&#8221;: a broader action which relates to both the sorting and display settings.</em></p><p>Here&#8217;s the extended markup:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation">=</span>"form"</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"sorter"</span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation">=</span>"get"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">&gt;</span></span>Sort by<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"most-recent"</span><span class="token punctuation">&gt;</span></span>most recent<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"popularity"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"popularity"</span><span class="token punctuation">&gt;</span></span>popularity<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>      
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"price-low-high"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"price-low-high"</span><span class="token punctuation">&gt;</span></span>price (low to high)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"sort-method"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"price-high-low"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"price-high-low"</span><span class="token punctuation">&gt;</span></span>price (high to low)<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>legend</span><span class="token punctuation">&gt;</span></span>Display as<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>legend</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"list"</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span>"#list-icon"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"visually-hidden"</span><span class="token punctuation">&gt;</span></span>a list<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"display-as"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"list"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"list"</span> <span class="token attr-name">checked</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>label</span> <span class="token attr-name">for</span><span class="token attr-value"><span class="token punctuation">=</span>"grid"</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation">=</span>"#grid-icon"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>use</span><span class="token punctuation">&gt;</span></span>
                <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>text</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span>"visually-hidden"</span><span class="token punctuation">&gt;</span></span>a grid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>text</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>label</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"radio"</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"display-as"</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"grid"</span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation">=</span>"grid"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"submit"</span><span class="token punctuation">&gt;</span></span>apply<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span></code></pre><h4>Notes</h4><p class="list"><span class="bullet">•</span>The &#8220;Display as&#8221; functionality is in its own <code>&lt;fieldset&gt;</code> to demarcate it from the principal filtering options.</p><p class="list"><span class="bullet">•</span>The list and grid icons are provided as inline SVGs, with visually hidden <code>&lt;text&gt;</code> elements providing each radio button&#8217;s screen reader accessible label text.</p><p class="list"><span class="bullet">•</span>Focusing the selected display option radio button would announce the <code>&lt;legend&gt;</code> first, then the <code>&lt;label&gt;</code> and additional information in screen readers. So, if the list item is focused (and selected) it would read, &#8220;Display as a list, radio button, selected&#8221; or similar.</p><p class="list last-item"><span class="bullet">•</span>I&#8217;ve changed the submit button label from &#8220;sort&#8221; to &#8220;apply&#8221; so that it <em>applies</em> to both settings, if you&#8217;ll excuse the wordplay.</p><h3>A Self-Governing Grid</h3><p>Whether grid or list in terms of layout, the products should always be formed as a list (<code>&lt;ul&gt;</code>) in the markup. Users not actually <em>seeing</em> a list benefit from list semantics regardless. This also saves on client-side DOM manipulation: all we should need to change is a class on the parent <code>&lt;ul&gt;</code> item: <code>.list-display</code> for a single-column layout or <code>.grid-display</code> for multiple columns.</p><p>The question is: &#8220;How many columns is the right number?&#8221; In responsive design, the answer depends on how much space there is. We typically proceed to match column numbers to viewport widths &mdash; the wider the viewport, the greater the number of columns we can afford. This necessitates a lot of manual media query writing and an ever-watchful eye for layout problems.</p><p>Using Flexbox, we can instead use <code>flex-basis</code> to define an ideal width at an element level. By switching on <code>flex-grow</code> and <code>flex-shrink</code>, the grid elements can expand and collapse around this ideal, preserving a complete and orderly grid across an infinite range of viewports.</p><pre><code class=" language-css"><span class="token selector">.grid-display </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.grid-display li </span><span class="token punctuation">{</span>
    <span class="token property">flex-grow</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">flex-shrink</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span> <span class="token comment">/* the default value, in fact */</span>
    <span class="token property">flex-basis</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h4>Notes</h4><p class="list"><span class="bullet">•</span>The <code>flex-basis</code> value is key. This is the width the Flexbox algorithm considers ideal for individual items. Each item will try to be 10em wide but will <em>flex</em> to share the available space completely (see <code>flex-grow</code> and <code>flex-shrink</code> below).</p><p class="list"><span class="bullet">•</span>The <code>flex-basis</code> value is set in ems so that it is relative to font size. This means that the automatic reflow of columns that we&#8217;ve established is sensitive to font size.</p><p class="list"><span class="bullet">•</span>The <code>flex-grow</code> value of <code>1</code> means items will grow beyond the 10em width to fill the available space.</p><p class="list"><span class="bullet">•</span>The <code>flex-shrink</code> value of <code>1</code> (can be omitted, in fact, because it&#8217;s the default) ensures items will shrink if needed.</p><p class="list last-item"><span class="bullet">•</span><code>flex-wrap</code> is switched on so items will wrap to the next row when there is not enough room to fit them alongside other items greater than 10em in width.</p><h4>Ensuring Acceptable Measure</h4><p>What we&#8217;ve established is a self-governing grid system. With very little code, we are able to ensure our content remains unbroken across an <em>infinite</em> range of viewport widths. That&#8217;s a highly inclusive layout strategy.</p><p>All that&#8217;s left is to ensure the content remains readable. If you remember from &#8220;A Paragraph,&#8221; we shouldn&#8217;t allow the measure to get too wide. That&#8217;s currently a danger at wider viewports, especially when the wrapping algorithm places the final item on a single line.</p><p><img src="images/grid_with_long_item.png" alt="A five-column grid with eleven items, meaning the last item takes up a whole row on its own." /></p><p>In the adapted code example to follow, items are restricted to having a <code>max-width</code> of 20em. My preference, for symmetry, is to group the content around the center line, hence the <code>justify-content: center;</code> declaration on the flex container.</p><pre><code class=" language-css"><span class="token selector">.grid-display </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.grid-display li </span><span class="token punctuation">{</span>
    <span class="token property">flex-grow</span><span class="token punctuation">:</span> 1<span class="token punctuation">;</span>
    <span class="token property">flex-basis</span><span class="token punctuation">:</span> 10em<span class="token punctuation">;</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> 20em<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p><img src="images/grids_with_max_widths.png" alt="Now the grid items are organized around the vertical center line and cannot become more than 20em wide." /></p><p>Flexbox works algorithmically, which is what makes it so powerful. To get the best results for your own content, you&#8217;ll need to tweak the 10em and 20em values.</p><p>(<strong>Note:</strong> IE10 and IE11 have an unpleasant bug whereby the children of focusable items within a flex container can become focusable themselves. <a href="http://allyjs.io/api/fix/pointer-focus-children.html"><span class="link">The handy a11y.js library has a fix for this</span></a><sup><a href="#fn23_15"><span class="sup_link">15</span></a></sup>.)</p><h4>Right-to-Left Grids</h4><p>As we established in the chapter &#8220;The Document,&#8221; it&#8217;s important to declare the language of a web page because this gets the most out of assistive technologies and translation tools. An international audience is a big step for inclusion. Some languages, like Arabic, are supposed to be read right to left, unlike languages like English that are read left to right. Setting the text direction for the document is possible by including the <code>dir</code> attribute (alongside the <code>lang</code> attribute) on the HTML element.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span>"ar"</span> <span class="token attr-name">dir</span><span class="token attr-value"><span class="token punctuation">=</span>"rtl"</span><span class="token punctuation">&gt;</span></span></code></pre><p>Float-based CSS layouts are unaffected by this provision. That is, you have to manually reverse the layout of floated content.</p><pre><code class=" language-css"><span class="token selector">.content </span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 60%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[dir="rtl"] .content </span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.sidebar </span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> right<span class="token punctuation">;</span>
    <span class="token property">width</span><span class="token punctuation">:</span> 40%<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">[dir="rtl"] .sidebar </span><span class="token punctuation">{</span>
    <span class="token property">float</span><span class="token punctuation">:</span> left<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>Flexbox, rather beautifully, handles direction automatically. Any flex container inside a document with <code>dir</code> set to <code>rtl</code> will display each row of content from right to left as expected: it switches the <code>row</code> and <code>row-reverse</code> values of the <code>flex-direction</code> property.</p><p>Should you, despite the right-to-left direction setting, want your grid to be laid out in a left-to-right configuration, you can force this using the CSS <code>direction</code> property on the flex container:</p><pre><code class=" language-css"><span class="token selector">.grid-display </span><span class="token punctuation">{</span>
    <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span>
    <span class="token property">direction</span><span class="token punctuation">:</span> ltr<span class="token punctuation">;</span>
    <span class="token comment">/* ltr acts like row-reverse */</span>
    <span class="token property">flex-direction</span><span class="token punctuation">:</span> row<span class="token punctuation">;</span>
    <span class="token property">flex-wrap</span><span class="token punctuation">:</span> wrap<span class="token punctuation">;</span>
    <span class="token property">justify-content</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>(<strong>Note</strong>: This automatic reversal is also true of <code>&lt;table&gt;</code> elements which switch their column order. We don&#8217;t use <code>&lt;table&gt;</code> elements for layout because they provide incorrect semantic information to assistive technologies.)</p><h2>Tolerating Dynamic Content</h2><p>As ever, we should be mindful of the content that our proposed structure is designed for. Since we&#8217;ve covered wording and tone in previous chapters, let&#8217;s take some time to consider fluctuating quantity.</p><p>One of the main reasons static mockups of interface components are defunct is that they tend to represent idealized content: people&#8217;s names of a particular length, and descriptions all exactly five lines high, for instance. When the front-end is built, problems can occur where variable content has an unexpected effect on layout.</p><p>To make sure our products grid interface can tolerate fluctuating content length at the prototyping stage, we can make use of a tool like <a href="https://github.com/Heydon/forceFeed"><span class="link">forceFeed.js</span></a><sup><a href="#fn23_16"><span class="sup_link">16</span></a></sup>. This script allows you to feed the proposed layout with randomized arrays of content within certain parameters.</p><p>For example, to test the interface&#8217;s tolerance of different names, I might add the following forceFeed.js <code>data-forcefeed</code> attribute to the artist link&#8217;s <code>&lt;cite&gt;</code>:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span> <span class="token attr-name">data-forcefeed</span><span class="token attr-value"><span class="token punctuation">=</span>"words|2"</span><span class="token punctuation">&gt;</span></span>Kenny Mulbarton<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span></code></pre><p>The <code>words</code> parameter refers to an array of words of different lengths. The <code>2</code> parameter refers to the number of randomized words I want to include. Since most names are composed of two words &mdash; a forename and surname &mdash; two seems reasonable. To run this over all of the artist <code>&lt;cite&gt;</code>s in a page, I first include forceFeed.js, then script the following. Note that I&#8217;m using a short set of <em>lorem ipsum</em> words just for brevity, but you can populate your array how you like.</p><pre><code class=" language-javascript">window<span class="token punctuation">.</span>words <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'lorem'</span><span class="token punctuation">,</span> <span class="token string">'ipsum'</span><span class="token punctuation">,</span> <span class="token string">'dolor'</span><span class="token punctuation">,</span> <span class="token string">'sit'</span><span class="token punctuation">,</span> <span class="token string">'amet'</span><span class="token punctuation">,</span> <span class="token string">'adipsing'</span><span class="token punctuation">,</span> <span class="token string">'consectetur'</span><span class="token punctuation">,</span> <span class="token string">'elit'</span><span class="token punctuation">,</span> <span class="token string">'sed'</span><span class="token punctuation">,</span> <span class="token string">'commodo'</span><span class="token punctuation">,</span> <span class="token string">'ligula'</span><span class="token punctuation">,</span> <span class="token string">'vitae'</span><span class="token punctuation">,</span> <span class="token string">'mollis'</span><span class="token punctuation">,</span> <span class="token string">'pellentesque'</span><span class="token punctuation">,</span> <span class="token string">'condimentum'</span><span class="token punctuation">,</span> <span class="token string">'sollicitudin'</span><span class="token punctuation">,</span> <span class="token string">'fermentum'</span><span class="token punctuation">,</span> <span class="token string">'enim'</span><span class="token punctuation">,</span> <span class="token string">'tincidunt'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> cites <span class="token operator">=</span> document<span class="token punctuation">.</span>querySelectorAll<span class="token punctuation">(</span><span class="token string">'cite'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span>forEach<span class="token punctuation">.</span>call<span class="token punctuation">(</span>cites<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span>cite<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    cite<span class="token punctuation">.</span>addAttribute<span class="token punctuation">(</span><span class="token string">'data-forcefeed'</span><span class="token punctuation">,</span> <span class="token string">'words|2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

forceFeed<span class="token punctuation">(</span><span class="token punctuation">{</span>words<span class="token punctuation">:</span> window<span class="token punctuation">.</span>words<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>Testing the tolerance of these word combinations is a simple case of reloading the page repeatedly to see whether any randomized combinations of words appear to break the layout, by causing an ugly wrapping behavior, for example.</p><h3>The Product Title</h3><p>There&#8217;s another dimension to forceFeed.js. The script also allows you to add <em>between</em> <em>x</em> and <em>n</em> numbers of array items. This helps to test dynamic content for the title of the print. Note that forceFeed.js needs a wrapper element to work, so let&#8217;s pretend we&#8217;ve used a script to place a <code>&lt;span&gt;</code> around the title before the link.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span> <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation">=</span>"-1"</span><span class="token punctuation">&gt;</span></span> <span class="token comment">&lt;!-- make the title focusable --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">data-forcefeed</span><span class="token attr-value"><span class="token punctuation">=</span>"words|1|10"</span><span class="token punctuation">&gt;</span></span>Naked Man In Garage Forecourt<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"/artist/kenny-mulbarton"</span><span class="token punctuation">&gt;</span></span>by <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span> <span class="token attr-name">data-forcefeed</span><span class="token attr-value"><span class="token punctuation">=</span>"words|1"</span><span class="token punctuation">&gt;</span></span>Kenny Mulbarton<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span></code></pre><p>When two numbers are provided, as in <code>words|1|10</code>, the script will place <em>between</em> the first number and second number of array items as the text node. Between one and ten words is the kind of variability we can expect for the titles. Now it&#8217;s back to refreshing the page and adapting the grid to tolerate any visual breakages better. Usually problems arise due to wrapping causing height differences between items, or failures to wrap meaning content breaks out of its box.</p><h2>Summary</h2><p>In this pattern we discovered two things. First, sometimes HTML already provides the behaviors we often find ourselves needlessly and flimsily recreating in JavaScript. Second, when using semantic HTML, CSS can be used as a form of progressive enhancement. In addition, we explored the importance of giving users <em>choice</em> and <em>control</em> over how their content is arranged. We also used some techniques to make sure our design was tolerant of dynamic and fluctuating content. As we&#8217;ve been discussing throughout the book, inclusive design also means a visual design which is not too strict about the nature of the content imparted to it.</p><h3>Things to Avoid</h3><p class="list"><span class="bullet">•</span>Creating behaviors in JavaScript that HTML already offers.</p><p class="list"><span class="bullet">•</span>Grid systems which don&#8217;t allow right-to-left language support.</p><p class="list"><span class="bullet">•</span>Infinite scrolling.</p><p class="list last-item"><span class="bullet">•</span>Prototyping with idealized content.</p><div class="fn_overview"><p class="separator">—</p><p id="fn23_1"><span class="fn_number">1.</span><a href="http://heydonworks.com/practical_aria_examples/#tab-interface"><span class="fn_link">http://heydonworks.com/practical_aria_examples/#tab-interface</span></a></p><p id="fn23_2"><span class="fn_number">2.</span><a href="https://www.w3.org/TR/aria-in-html/#first-rule-of-aria-use"><span class="fn_link">https://www.w3.org/TR/aria-in-html/#first-rule-of-aria-use</span></a></p><p id="fn23_3"><span class="fn_number">3.</span><a href="http://www.heydonworks.com/article/reinventing-the-hyperlink"><span class="fn_link">http://www.heydonworks.com/article/reinventing-the-hyperlink</span></a></p><p id="fn23_4"><span class="fn_number">4.</span><a href="http://www.sitepoint.com/replacing-radio-buttons-without-replacing-radio-buttons/"><span class="fn_link">http://www.sitepoint.com/replacing-radio-buttons-without-replacing-radio-buttons/</span></a></p><p id="fn23_5"><span class="fn_number">5.</span><a href="http://wtfforms.com/"><span class="fn_link">http://wtfforms.com/</span></a></p><p id="fn23_6"><span class="fn_number">6.</span><a href="https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest"><span class="fn_link">https://developer.mozilla.org/en-US/docs/Web/API/XMLHttpRequest</span></a></p><p id="fn23_7"><span class="fn_number">7.</span><a href="http://w3c.github.io/aria/practices/aria-practices.html#LiveRegions"><span class="fn_link">http://w3c.github.io/aria/practices/aria-practices.html#LiveRegions</span></a></p><p id="fn23_8"><span class="fn_number">8.</span><a href="http://w3c.github.io/aria/aria/aria.html#aria-live"><span class="fn_link">http://w3c.github.io/aria/aria/aria.html#aria-live</span></a></p><p id="fn23_9"><span class="fn_number">9.</span><a href="http://w3c.github.io/aria/aria/aria.html#status"><span class="fn_link">http://w3c.github.io/aria/aria/aria.html#status</span></a></p><p id="fn23_10"><span class="fn_number">10.</span><a href="http://snook.ca/archives/html_and_css/hiding-content-for-accessibility"><span class="fn_link">http://snook.ca/archives/html_and_css/hiding-content-for-accessibility</span></a></p><p id="fn23_11"><span class="fn_number">11.</span><a href="https://dequeuniversity.com/library/aria/content-feedback/liveregion-playground"><span class="fn_link">https://dequeuniversity.com/library/aria/content-feedback/liveregion-playground</span></a></p><p id="fn23_12"><span class="fn_number">12.</span><a href="https://www.gov.uk/service-manual/user-centred-design/user-research/accessibility-testing.html"><span class="fn_link">https://www.gov.uk/service-manual/user-centred-design/user-research/accessibility-testing.html</span></a></p><p id="fn23_13"><span class="fn_number">13.</span><a href="https://www.smashingmagazine.com/2013/05/infinite-scrolling-lets-get-to-the-bottom-of-this/"><span class="fn_link">https://www.smashingmagazine.com/2013/05/infinite-scrolling-lets-get-to-the-bottom-of-this/</span></a></p><p id="fn23_14"><span class="fn_number">14.</span><a href="http://simplyaccessible.com/article/infinite-scrolling/"><span class="fn_link">http://simplyaccessible.com/article/infinite-scrolling/</span></a></p><p id="fn23_15"><span class="fn_number">15.</span><a href="http://allyjs.io/api/fix/pointer-focus-children.html"><span class="fn_link">http://allyjs.io/api/fix/pointer-focus-children.html</span></a></p><p id="fn23_16"><span class="fn_number">16.</span><a href="https://github.com/Heydon/forceFeed"><span class="fn_link">https://github.com/Heydon/forceFeed</span></a></p></div></div></body></html>
