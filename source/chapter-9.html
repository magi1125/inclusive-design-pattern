<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html 
PUBLIC "-//W3C//DTD XHTML 1.1//EN"
       "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"><html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml"><head><title>The Document | Inclusive Design Patterns</title><link rel="stylesheet" href="css/book.css" type="text/css"/><meta http-equiv="Content-Type" content="application/xhtml+xml; charset=utf-8"/><meta name="EPB-UUID" content="24CC751A-5435-483D-851C-00DC23A33E17"/></head><body><div class="body"><h1>The Document</h1><p>While other chapters of this book will look into discrete interface patterns &mdash; conventions realized as modules or components &mdash; it would be foolhardy to not recognize that each of these will ultimately belong to a web document. HTML pages vary dramatically in shape and size, and can include any combination of patterns; but there are a handful of document-level best practices we should stick to.</p><p>The aim here is not to go in search of the ultimate boilerplate but to configure a parent web page for an inclusive interface.</p><h2>The Doctype</h2><p>Whether your web page is an old-school static resource or a single-page app, it is unavoidably a document. The clue is in the &#8220;DOC&#8221; part which should appear in the first line of code: <code>&lt;!DOCTYPE html&gt;</code>. This serves as an important reminder that even when you&#8217;re designing a highly tactile and dynamic interface, you are still really just putting content into a browser window. Never forget that the browser itself is an interface, which can be augmented and configured in a number of ways by the user &mdash; as well as helping interpret the content you provide for third-party assistive technologies like screen readers. Your subsidiary interface should be tolerant of users&#8217; differing setups and configurations.</p><p><img src="images/interface_interface.png" alt="Diagram labels your interface hidden among all the browser interface elements." /><br /><em>Your interface is not the only interface users are interacting with when their browsers are open.</em></p><p>In addition, the <em>omission</em> of the aforementioned doctype declaration can result in unexpected and broken behavior for users. Without a doctype declared, the browser simply doesn&#8217;t know how to interpret the content and can regress into <a href="https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode"><span class="link">a non-compliant and incompatible mode, often called <span class="italic-link">quirks mode</span></span></a><sup><a href="#fn9_1"><span class="sup_link">1</span></a></sup>. Layout and interaction can become error-prone and unpredictable. If things get plain odd when testing a web page, I always check for a doctype before trying anything else. I&#8217;ve been stung too many times.</p><h2>The lang Attribute</h2><p>If the doctype tells the browser what <em>kind</em> of document it is serving (HTML5 in the above example), then the <code>&lt;html&gt;</code> element&#8217;s <code>lang</code> attribute tells it which language it is written in. I&#8217;m not talking HTML or XHTML; I mean English or French.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span>"en"</span></span> <span class="token comment">&lt;!-- language set to English --&gt;</span></code></pre><p>Though frequently omitted, declaring a language for a web page could scarcely be more important. Not only does it make the page more indexable by search engines, but it also becomes easier to translate by users operating third-party tools such as Google&#8217;s <a href="https://cloud.google.com/translate/docs"><span class="link">Translate API</span></a><sup><a href="#fn9_2"><span class="sup_link">2</span></a></sup>. It also helps the user to <em>write</em> in the page&#8217;s language. Firefox, for instance, changes dictionaries on <code>&lt;textarea&gt;</code>s so that spelling errors are highlighted appropriately.</p><p>Perhaps most starkly, a page that does not have a language declared &mdash; or has the wrong language declared for the content &mdash; will not trigger the adoption of an appropriate synthetic voice profile when used with a screen reader. That is, if <code>&lt;html lang="en"&gt;</code> is present but the text is actually in French, you&#8217;d hear a voice profile called Jack doing a bad impression of French, rather than a French profile called Jaques using authentic French pronunciation.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Il ne faut pas mettre tout dans le même sac!<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span></code></pre><p>In addition to screen readers and computer braille displays benefiting from proper language declaration, it also helps browsers choose and render system fonts with the appropriate character sets. For instance, <code>lang="zh-Hans"</code> will invoke the rendering of a simplified Chinese font. Garbled text, rendered in unbefitting characters is not optimally inclusive of your readership <em>to say the least</em>.</p><p>It is possible to switch languages within a page using the <code>lang</code> attribute on child elements within the <code>&lt;body&gt;</code>. For instance, I may want to quote some French within an English language page:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>blockquote</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span>"fr"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>Ceci n’est pas une pipe<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>— <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>cite</span><span class="token punctuation">&gt;</span></span>Ren&eacute; Magritte<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>cite</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>blockquote</span><span class="token punctuation">&gt;</span></span></code></pre><p>In my CSS I can select any sections declared as French using the <code>:lang</code> pseudo-class, applying a font well suited to the French character set, thereby improving legibility:</p><pre><code class=" language-css"><span class="token selector">:lang(fr) </span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> French Font, fallback, sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>The <code>lang</code> attribute can be used to improve the readability, translatability and compatibility of web documents&#8217; written content, helping open it up to an international audience. It&#8217;s easy to include the <code>lang</code> attribute, so just go ahead and include it.</p><h2>Responsive Design</h2><p>Responsive design is a big part of inclusive design. By designing documents that can respond and adapt to their environment, they become compatible with the ever proliferating choice of devices on the market. This book is not the place to discuss the ins and outs of responsive design, but you should be aware of some responsive design principles that support inclusive design.</p><h3>Content Breakpoints</h3><p>Targeting the specific viewports of specific devices (employing device breakpoints) is an exercise in futility if you want to create a truly inclusive experience. There are just too many viewport variations available to support each one. Instead, you should create an entirely flexible design from the outset and insert breakpoints only where the content breaks the layout &mdash; hence <em>content breakpoint</em> or <em>tweakpoint</em>.</p><p>By employing content breakpoints, you can ensure successful layouts for a range of devices far greater than you would ever be able to manually test with. Unless your superpower is prescience and you can anticipate the device setup of each and every one of your users, this is the only way to go.</p><p>Locating content breakpoints is easy using Firefox&#8217;s <a href="https://developer.mozilla.org/en/docs/Tools/Responsive_Design_Mode"><span class="link">responsive design mode</span></a><sup><a href="#fn9_3"><span class="sup_link">3</span></a></sup>. Just press <em>Cmd</em> + <em>Option</em> + <em>M</em>, then resize the simulated viewport incrementally until the content is forced to collide, overlap or wrap. The responsive design mode interface displays the current dimensions, allowing you to record and attend to that breakpoint.</p><p><img src="images/viewports.png" alt="A small, black box represents the smallest conceivable viewport and a larger gray box grows from it to represent infinite larger viewports." /><br /><em>Your responsive design should cover every width. That doesn&#8217;t mean you need a breakpoint for every width.</em></p><p>Simple interfaces are usable interfaces, and much less work in terms of managing breakpoints. As a rule of thumb, you should never set a fixed width or height on any element: the intrinsic flexibility of boxes means they can tolerate the same content in different spaces. Web pages behave like this without author CSS, and should continue to respect this fundamental behavior where CSS is included.</p><h3>Allow Pinch-to-Zoom</h3><p>The <code>viewport</code> meta tag is where responsive design is, somewhat magically, enabled. Yet it&#8217;s also where we habitually disable users&#8217; ability to zoom content, making experiences, well, <em>less</em> magical. In an informal poll I took on Twitter asking my followers about the biggest mistakes designers make regarding inclusion, the suppression of pinch-zoom on handheld devices was by far the most cited.</p><p>To be clear, then, the first of what follows is unacceptable; the second is correct.</p><pre><code class=" language-markup"><span class="token comment">&lt;!-- don’t use this --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"viewport"</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span>"width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0, minimum-scale<span class="token punctuation">=</span>1.0, maximum-scale<span class="token punctuation">=</span>1.0, user-scalable<span class="token punctuation">=</span>no"</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- use this --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"viewport"</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span>"width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0"</span><span class="token punctuation">&gt;</span></span></code></pre><p>Adrian Roselli provides a comprehensive list of <a href="http://adrianroselli.com/2015/10/dont-disable-zoom.html"><span class="link">reasons why disabling this feature undermines inclusion</span></a><sup><a href="#fn9_4"><span class="sup_link">4</span></a></sup>:</p><p class="list"><span class="bullet">•</span>The text may be too small for the user to read.</p><p class="list"><span class="bullet">•</span>The user may want to see more detail in an image.</p><p class="list"><span class="bullet">•</span>Selecting words to copy/paste may be easier for users when the text is larger.</p><p class="list"><span class="bullet">•</span>The user wants to crop animated elements out of the view to reduce distraction.</p><p class="list"><span class="bullet">•</span>The developer did a poor job of responsive design, and the user needs to zoom just to use the page (this happens!).</p><p class="list"><span class="bullet">•</span>There is a browser bug or quirk (still a bug) that causes the default zoom level to be odd.</p><p class="list last-item"><span class="bullet">•</span>It can be confounding for users when a pinch/spread gesture is interpreted as something else.</p><p>You may recall my remark earlier that the browser itself is an interface. To achieve inclusive design you should act as a facilitator, allowing users to configure the way they view and interact with the content you provide them. The fewer decisions you make for them, the more they can make for themselves.</p><p>If your layout breaks badly when a user zooms, <em>the design</em> is at fault, not the user, and removing their ability to zoom is not a solution. As a rule of thumb, avoid using positioned elements, especially with <code>position: fixed</code>. When content is enlarged, any elements stuck to a certain part of the screen are liable to become blind spots.</p><h2>Font Size</h2><p>Desktop browsers tend to render fonts at 16px by default. There is a rationale for reasonably large defaults: anything else risks alienating a huge swath of users, many from older populations whose eyesight has deteriorated. &#8220;But my audience is young and hip!&#8221; I hear you say. Sure, but generous font sizes don&#8217;t <em>offend</em> young, keen-eyed folks. The key to inclusive design isn&#8217;t to target specific groups, it&#8217;s to <em>not exclude</em> groups arbitrarily &mdash; there&#8217;s nothing to gain.</p><p>You may already be accustomed to the convention of setting font size using a percentage, on the root (<code>&lt;html&gt;</code>) element like so:</p><pre><code class=" language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>In the example above, <code>100%</code> is equal to <code>16px</code> <em>if</em> the user has not adjusted the font size manually, either in their operating system or browser settings (e.g. under <em>Preferences &rarr; Content</em> in Firefox). So, <code>100%</code> is really &#8220;one hundred percent of the default size or the size the user has chosen.&#8221; If I were to set the font size explicitly as 16px at the root level, I would diminish the user&#8217;s ability to adjust font size to their liking.</p><pre><code class=" language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
    <span class="token comment">/* do not do this */</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 16px<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>It is true that a greater number of users will operate full-page zoom using <em>Cmd</em> (or <em>Ctrl</em>) and <em>+</em>, but modern browsers and operating systems still support text-only resizing, and so should you. To make sure <code>font-size</code>, <code>padding</code> and <code>margin</code> all resize proportionately, each should be set using the relative units <code>rem</code>, <code>em</code> or <code>ch</code>.</p><p>This greatly reduces the complexity of your media queries. In the example below, the <code>line-height</code> and <code>margin</code> of the <code>p</code> will scale proportionately, because they are both set relative to the <code>font-size</code>. Where everything is set proportionately, whole pages can be scaled simply by adjusting the root font size, as in the media query that follows.</p><p>(<strong>Note:</strong> To ensure the media query triggers at the correct point relative to user-defined font size, we are using the em unit there, too. The rem unit causes problems in Safari, as &#8220;<a href="http://zellwk.com/blog/media-query-units/"><span class="link">PX, EM or REM Media Queries?</span></a><sup><a href="#fn9_5"><span class="sup_link">5</span></a></sup>&#8221; by Zell Liew attests.)</p><pre><code class=" language-css"><span class="token selector">p </span><span class="token punctuation">{</span>
    <span class="token property">margin</span><span class="token punctuation">:</span> 1.5rem 0<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 1rem<span class="token punctuation">;</span>
    <span class="token property">line-height</span><span class="token punctuation">:</span> 1.5<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token atrule">@media (max-width: 60em) </span><span class="token punctuation">{</span>
    <span class="token selector">html </span><span class="token punctuation">{</span>
        <span class="token property">font-size</span><span class="token punctuation">:</span> 80%<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>An <code>&lt;h2&gt;</code> given <code>font-size: 2rem;</code> is two times larger than the size set at the root. If the user has gone to <em>Settings &rarr; Content</em> in Firefox and set the default font size to 20px, <code>2rem</code> will mean 2 &times; 20 &mdash; or 40px. Do not make the mistake of converting theoretical rem units into pixels via a CSS preprocessor. It&#8217;s what ends up in the compiled CSS, parsable by browsers, that counts.</p><h3>Viewport Units</h3><p>Viewport units present the opportunity to set text that scales with the height (<code>vh</code>) or width (<code>vw</code>) of the viewport. Essentially, this means you can employ implicitly responsive text without the need for media queries like that of the previous code example.</p><p>You just need to address one issue: elements set using viewport units <em>cannot</em> be scaled using full-page zoom. Zoom can be reinstated by entering a viewport unit-based value into a sum with an em-based value. This has the added advantage of ensuring a minimum font size for the page. That is, 1em + (0 × 1vw) is still 1em.</p><pre><code class=" language-css"><span class="token selector">html </span><span class="token punctuation">{</span> <span class="token property">font-size</span><span class="token punctuation">:</span> calc(1em + 1vw)<span class="token punctuation">;</span> <span class="token punctuation">}</span></code></pre><p>With this algorithm in place, everything scales incrementally and proportionately relative to the viewport. It saves you a lot of manual coding without sacrificing accessibility.</p><p>The only modern browser that does not support viewport units at the time of writing is Opera Mini. Not to worry: <code>font-size: calc(1em + 1vw);</code> is a progressive enhancement. Where it is not recognized, browsers fall back to the user agent&#8217;s default. In other words, Opera Mini would display the body text as it would have liked to begin with.</p><h2>Progressive Enhancement</h2><p>Progressive enhancement, like responsive design, is a cornerstone of inclusive design. Much maligned as the arduous task of making web applications still do things when a unicorn-rare user switches JavaScript off, it has much broader implications.</p><p>Progressive enhancement is about building a strong foundation of content, logical and robust in form, which is resilient to a multitude of network and scripting failures. It&#8217;s not just about JavaScript or CSS being unavailable, but when and how they are unavailable, for how long, and when they should be <em>made</em> available, and in what order.</p><p>Patterns in this book are founded on well-formed and semantic HTML structures, enhanced by CSS and JavaScript. Where possible, integrated JavaScript widgets degrade into well-structured static content or interactive form elements, meaning users without JavaScript or CSS &mdash; temporarily or otherwise &mdash; can traverse and use content. Whether JavaScript is available or not, semantic HTML ensures an inclusive experience for assistive technology users and makes interaction behavior more predictable and efficient.</p><p><img src="images/enhancement_stages.png" alt="Shows stages in progressive enhancement. In the loading process, first you get HTML and with it content. Then you get CSS, but the content remains. Finally JavaScript is put on top, but content is still there." /><br /><em>Enhancement is a great thing, but only where it&#8217;s really needed.</em></p><p>In a progressively enhanced setup, scripts should be inserted at the end of the document, just before the closing <code>&lt;/body&gt;</code> tag. This allows the main DOM content to be rendered before the scripts are executed.</p><pre><code class=" language-markup"><span class="token script"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token comment">// TODO: enhancement </span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span></code></pre><h2>Managing Assets</h2><p>In terms of our document setup, it&#8217;s critical we make sure the resources we are using to enhance the page content do not stand in the way of that content. On slow networks, the content should arrive as soon as possible. It&#8217;s what the user went to the page for, after all.</p><p>Web fonts are typically large assets which should be treated as an enhancement. In particular, FOIT (flash of invisible text) should be avoided: if the font resource is indefinitely stalled (it happens!), users of some devices and browsers will be stuck with a page that has no visible text. That&#8217;s pretty uninclusive of users on temperamental networks.</p><p>The trick is to load the page <em>then</em> the font, using the <code>onload</code> event as a watershed. For this to work, the fonts will have to be base64-encoded and embedded into the style sheet in question. In <a href="http://keithclark.co.uk/articles/loading-css-without-blocking-render/"><span class="link">Keith Clark&#8217;s example</span></a><sup><a href="#fn9_6"><span class="sup_link">6</span></a></sup>, <code>&lt;link&gt;</code> has an <code>onload</code> handler which switches the media type from <code>none</code> to <code>all</code>. If JavaScript is entirely unavailable, the CSS is loaded regardless, thanks to <code>&lt;noscript&gt;</code>.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"fonts.css"</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span>"none"</span> <span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation">=</span>"if(media!<span class="token punctuation">=</span>'all')media<span class="token punctuation">=</span>'all'"</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"fonts.css"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span></code></pre><p>The base64-encoded font would be included inside an <code>@font-face</code> declaration block, like so:</p><pre><code class=" language-css"><span class="token atrule">@font-face</span> <span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> Merriweather<span class="token punctuation">;</span>
    <span class="token property">font-style</span><span class="token punctuation">:</span> normal<span class="token punctuation">;</span>
    <span class="token property">font-weight</span><span class="token punctuation">:</span> 400<span class="token punctuation">;</span>
    <span class="token property">src</span><span class="token punctuation">:</span> local(<span class="token string">'Merriweather'</span>), <span class="token url">url('data:application/x-font-woff;charset=utf-8;base64...')</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>A more comprehensive way of overcoming FOIT is <a href="https://github.com/bramstein/fontfaceobserver"><span class="link">offered by Bram Stein</span></a><sup><a href="#fn9_7"><span class="sup_link">7</span></a></sup> and requires a small JavaScript dependency. Font Face Observer allows you to watch and wait on the completion of a font resource loading using a simple promise-based interface:</p><pre><code class=" language-javascript"><span class="token keyword">var</span> observer <span class="token operator">=</span> <span class="token keyword">new</span> FontFaceObserver<span class="token punctuation">(</span><span class="token string">'MyWebSerif'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

observer<span class="token punctuation">.</span>check<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>then<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>className <span class="token operator">+</span><span class="token operator">=</span> <span class="token string">"fonts-loaded"</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre><p>It&#8217;s simple to then supply the font in your CSS, using the <code>.fonts-loaded</code> class selector shown above:</p><pre><code class=" language-css"><span class="token selector">html </span><span class="token punctuation">{</span>
    <span class="token comment">/* system font with fallback */</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> MySystemSerif, serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">html.fonts-loaded </span><span class="token punctuation">{</span>
    <span class="token comment">/* web font with fallbacks */</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> MyWebSerif, MySystemSerif, serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>In defeating FOIT, you have to accept a lesser evil called FOUT (flash of unstyled text). This is a rather unjust moniker since all fonts are styled (i.e. they have their own form). However, there can be an unpleasant and disorienting jump when the web font supplants the system font after it has loaded. This is due to one font being intrinsically larger or smaller than the other, causing lines to wrap in different places.</p><p>To mitigate this undesired effect, your best strategy is to choose fallback system fonts with intrinsic dimensions (metrics) which are similar to the web font.</p><h2>Subsetting Fonts</h2><p>A font that supports a large, international character set is an inclusive font. Nevertheless, you should only include a subset containing the characters you need or your users may suffer performance issues. The difference in file size between an entire font and one subsetted to just the ampersand glyph you want will be many orders of magnitude!</p><p>When including fonts using <a href="https://www.google.com/fonts"><span class="link">Google Fonts</span></a><sup><a href="#fn9_8"><span class="sup_link">8</span></a></sup>, you can append a <code>text</code> parameter to the URI listing just the characters you need. For example, if you know your <code>&lt;h2&gt;</code> headings will use just the uppercase letters from a particular font, you can include the link like so:</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"https://fonts.googleapis.com/css?family<span class="token punctuation">=</span>Roboto:900&amp;text<span class="token punctuation">=</span>ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation">=</span>"text/css"</span><span class="token punctuation">&gt;</span></span></code></pre><p>If you are serving your own fonts, you can first subset them using <a href="http://www.fontsquirrel.com/tools/webfont-generator"><span class="link">Font Squirrel&#8217;s generator</span></a><sup><a href="#fn9_9"><span class="sup_link">9</span></a></sup>. In the CSS font stack, characters not supported by a priority font are filled by a fallback. In practice, this means a well-matched system font can supply the more unusual characters, allowing you to heavily subset the web font. By using Font Squirrel&#8217;s generator, you can roll back your web font&#8217;s character set to just the <a href="https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)"><span class="link">Basic Latin Unicode block</span></a><sup><a href="#fn9_10"><span class="sup_link">10</span></a></sup>, for example.</p><pre><code class=" language-css"><span class="token selector">body </span><span class="token punctuation">{</span>
    <span class="token property">font-family</span><span class="token punctuation">:</span> SubsettedWebFont, ExtensiveSystemFont, sans-serif<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><h2>The <code>&lt;title&gt;</code> Element</h2><p>The <code>&lt;title&gt;</code> element, found in the <code>&lt;head&gt;</code>, should be familiar to you already as the element browsers glean the text from for their tab labeling, and search engines the text for their results links. Certainly, unlabeled browser tabs are a frustrating shortcoming for most anyone, but there are additional implications for assistive technology users. Throughout this book you&#8217;ll hear a lot about <em>accessible names</em>. These are the assistive technology compatible labels for the various elements of your web pages. The accessible name for a document, <code>&lt;iframe&gt;</code> or embedded SVG element is provided by their <code>&lt;title&gt;</code>. It should describe the purpose of the contents of said element.</p><p>The <code>&lt;title&gt;</code> is announced as soon as a new web document is loaded, so it is your opportunity to provide a succinct summary of the page. Conventional practice is to describe the page and append author and site information. For example, &#8220;Inclusive Design Template | Heydon&#8217;s Site.&#8221; For a search results page, you should include the search term the user provided; something like, &#8220;[Website name] | Search results for [search phrase].&#8221;</p><h2>The <code>&lt;main&gt;</code> Element</h2><p>Some patterns in this book, like <em>navigation regions</em>, should appear consistently between pages of the site as landmarks. Others will contribute to the modular, often dynamic content that makes up unique pages. In conventional web page anatomy, this content is designated to a main content area.</p><pre><code class=" language-markup"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"main"</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- this page’s unique content --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span></code></pre><p>The concept of main content is not a new one, but it is only recently that we&#8217;ve been afforded a tool to inclusively separate it from surrounding page apparatus like headers, navigation regions and footers. The <code>&lt;main&gt;</code> element defines a region recognized and communicated by screen readers. Screen readers like JAWS also offer a keyboard shortcut (the <code>Q</code> key) to access <code>&lt;main&gt;</code>, allowing the user to bypass a page&#8217;s preamble and go straight to the content they came for. In a single-page application, your singular <code>&lt;main&gt;</code> should be where each of your functionality-heavy views is rendered. In a static blog or brochure website, <code>&lt;main&gt;</code> would contain blog posts and other informational content. A products page would describe the products within <code>&lt;main&gt;</code>.</p><p>Since <code>&lt;main&gt;</code> is designed to contain the salient content of a page, it can make the writing of a print style sheet easier. If your navigation, header, footer and sidebar (<code>&lt;aside&gt;</code>) regions are correctly made the siblings of <code>&lt;main&gt;</code>, you can target them quite easily with CSS:</p><pre><code class=" language-css"><span class="token atrule">@media print </span><span class="token punctuation">{</span>
    <span class="token selector">body &gt; *:not(main) </span><span class="token punctuation">{</span>
        <span class="token property">display</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><p>I&#8217;m not one to print web pages. I gave up on home printers a long time ago because they always seemed to break after ten minutes of use. But not everyone is like me, and making sure printed pages do not contain page elements which are only relevant when browsing on-screen is an act of considerate, inclusive design. It&#8217;s currently the easiest offline solution available, because it means the reader can print to PDF and save to their local drive.</p><p><img src="images/print.png" alt="Box labeled ‘The important stuff’ surrounded by grayed out subsidiary boxes" /><br /><em>Another advantage of being able to eliminate subsidiary content is the ability to improve the on-screen reading experience. <a href="https://chrome.google.com/webstore/detail/stylish/fjnbnpbmkenffdnngjfgmeleoegfcffe?hl=en"><span class="caption-link">Extensions are available</span></a><sup><a href="#fn9_11"><span class="sup_link">11</span></a></sup> to apply your own CSS on a per-domain basis.</em></p><h3>Skip Links</h3><p>Skip links are a classic allowance made in the name of inclusive design: they feel like an awful cludge, but their impact on the experience of some types of users is tried and tested.</p><p>A skip link appears above all other content on the page and points to the main content area. But who&#8217;s it for? Conventional wisdom says screen reader users but, as I&#8217;ve already covered, they have other means to reach the <code>&lt;main&gt;</code> element. The principal beneficiaries of skip links are sighted keyboard users. Such people are not afforded the same shortcuts as screen reader operators, so it&#8217;s them we&#8217;re mostly helping to skip over navigation and other header content.</p><p>Skip links should not appear visually by default because they have very limited utility to mouse and touch users and would only serve to confound them. To make skip links available to keyboard users, we should bring them into view on focus:</p><pre><code class=" language-css"><span class="token selector">[href="#main"] </span><span class="token punctuation">{</span>
    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
    <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
    <span class="token property">right</span><span class="token punctuation">:</span> 100%<span class="token punctuation">;</span> <span class="token comment">/* moves off screen */</span>
<span class="token punctuation">}</span>

<span class="token selector">[href="#main"]:focus </span><span class="token punctuation">{</span>
    <span class="token property">right</span><span class="token punctuation">:</span> auto<span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><p>When a keyboard user enters a new page, the document itself will be the first thing to receive focus. With the above provision in place, when the user hits their <em>Tab</em> key they&#8217;ll focus the first interactive element on the page: the skip link. Focusing the skip link reveals it visually, giving the user the option of skipping to the main content if so desired. Tabbing again will hide the skip link and focus on the next interactive element on the page (probably the homepage link or the first link in the navigation list).</p><h2>Putting The Page Together</h2><p>OK, let&#8217;s see how our inclusive document is shaping up.</p><pre><code class=" language-markup"><span class="token doctype">&lt;!DOCTYPE html&gt;</span>
<span class="token comment">&lt;!-- the main language of the page declared --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation">=</span>"en"</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation">=</span>"utf-8"</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- a viewport declaration which does not disable zooming --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation">=</span>"viewport"</span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation">=</span>"width<span class="token punctuation">=</span>device-width, initial-scale<span class="token punctuation">=</span>1.0"</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- a non-blocking base64 encoded font resource --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"fonts.css"</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span>"none"</span> <span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation">=</span>"if(media!<span class="token punctuation">=</span>'all')media<span class="token punctuation">=</span>'all'"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"fonts.css"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- a non-blocking stylesheet --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"main.css"</span> <span class="token attr-name">media</span><span class="token attr-value"><span class="token punctuation">=</span>"none"</span> <span class="token attr-name">onload</span><span class="token attr-value"><span class="token punctuation">=</span>"if(media!<span class="token punctuation">=</span>'all')media<span class="token punctuation">=</span>'all'"</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation">=</span>"stylesheet"</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"main.css"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- a descriptive label for the page --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">&gt;</span></span>Inclusive Design Template | Heydon’s Site<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- a handy skip link for keyboard users --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation">=</span>"#main"</span><span class="token punctuation">&gt;</span></span>skip to main content<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- logo / page navigation etc. goes here --&gt;</span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>main</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span>"main"</span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- unique content of page goes here --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>main</span><span class="token punctuation">&gt;</span></span>

        <span class="token comment">&lt;!-- a non-blocking javascript resource --&gt;</span>
        <span class="token script"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation">=</span>"scripts.js"</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>html</span><span class="token punctuation">&gt;</span></span></code></pre><h2>A Note On Frameworks, Preprocessors And Task Runners</h2><blockquote><p>&#8220;It seems to me that developer ergonomics should be less important than our users&#8217; needs.&#8221; &ndash; <a href="https://aerotwist.com/blog/react-plus-performance-equals-what/"><span class="link">Paul Lewis</span></a><sup><a href="#fn9_12"><span class="sup_link">12</span></a></sup></p></blockquote><p>A lot of web design articles and books are about improving your workflow and making your life easier as a developer. Should you wish to adopt a framework or employ a preprocessor to speed up your development process, be my guest. However, this book is not about you; it&#8217;s about your audience.</p><p>As such, any time spent on tools will only be in cases where they can have a direct impact on the quality of the user experience. Under all other circumstances we&#8217;ll be exploring the possibilities offered by standard web technologies like HTML, CSS, JavaScript and SVG. How these underlying technologies actually interact with your users will be the focus throughout (alongside organizational and writing techniques that benefit users too, of course).</p><p>You can take the lessons learned here and apply them within any framework sufficiently flexible to allow you to write and organize good interfaces. Any opinionated frameworks not easily configurable for inclusive design techniques should be avoided. They lead you to build poor products.</p><p>To help me stay focused on the true task at hand, I have a points system. In all cases, whether I&#8217;m applying visual design, writing JavaScript behavior or structuring content, I ask who benefits from the <em>way</em> I&#8217;m approaching it.</p><p class="list"><span class="bullet">•</span><strong>1 point</strong>: it benefits me</p><p class="list"><span class="bullet">•</span><strong>10 points</strong>: it benefits a user/reader like me and with my setup</p><p class="list last-item"><span class="bullet">•</span><strong>100 points</strong>: it benefits me, people like me, <em>and</em> users/readers unlike me, with differing setups</p><p>One hundred points is what we&#8217;re aiming for here.</p><div class="fn_overview"><p class="separator">—</p><p id="fn9_1"><span class="fn_number">1.</span><a href="https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode"><span class="fn_link">https://developer.mozilla.org/en-US/docs/Quirks_Mode_and_Standards_Mode</span></a></p><p id="fn9_2"><span class="fn_number">2.</span><a href="https://cloud.google.com/translate/docs"><span class="fn_link">https://cloud.google.com/translate/docs</span></a></p><p id="fn9_3"><span class="fn_number">3.</span><a href="https://developer.mozilla.org/en/docs/Tools/Responsive_Design_Mode"><span class="fn_link">https://developer.mozilla.org/en/docs/Tools/Responsive_Design_Mode</span></a></p><p id="fn9_4"><span class="fn_number">4.</span><a href="http://adrianroselli.com/2015/10/dont-disable-zoom.html"><span class="fn_link">http://adrianroselli.com/2015/10/dont-disable-zoom.html</span></a></p><p id="fn9_5"><span class="fn_number">5.</span><a href="http://zellwk.com/blog/media-query-units/"><span class="fn_link">http://zellwk.com/blog/media-query-units/</span></a></p><p id="fn9_6"><span class="fn_number">6.</span><a href="http://keithclark.co.uk/articles/loading-css-without-blocking-render/"><span class="fn_link">http://keithclark.co.uk/articles/loading-css-without-blocking-render/</span></a></p><p id="fn9_7"><span class="fn_number">7.</span><a href="https://github.com/bramstein/fontfaceobserver"><span class="fn_link">https://github.com/bramstein/fontfaceobserver</span></a></p><p id="fn9_8"><span class="fn_number">8.</span><a href="https://www.google.com/fonts"><span class="fn_link">https://www.google.com/fonts</span></a></p><p id="fn9_9"><span class="fn_number">9.</span><a href="http://www.fontsquirrel.com/tools/webfont-generator"><span class="fn_link">http://www.fontsquirrel.com/tools/webfont-generator</span></a></p><p id="fn9_10"><span class="fn_number">10.</span><a href="https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)"><span class="fn_link">https://en.wikipedia.org/wiki/Basic_Latin_(Unicode_block)</span></a></p><p id="fn9_11"><span class="fn_number">11.</span><a href="https://chrome.google.com/webstore/detail/stylish/fjnbnpbmkenffdnngjfgmeleoegfcffe?hl=en"><span class="fn_link">https://chrome.google.com/webstore/detail/stylish/fjnbnpbmkenffdnngjfgmeleoegfcffe?hl=en</span></a></p><p id="fn9_12"><span class="fn_number">12.</span><a href="https://aerotwist.com/blog/react-plus-performance-equals-what/"><span class="fn_link">https://aerotwist.com/blog/react-plus-performance-equals-what/</span></a></p></div></div></body></html>
